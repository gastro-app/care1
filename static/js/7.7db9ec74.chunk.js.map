{"version":3,"sources":["utils/analytics.js","components/Page.js","components/HeaderBreadcrumbs.js","pages/components-overview/material-ui/stepper/Modal.module.css","pages/components-overview/Block.js","utils/formatNumber.js","components/upload/UploadMultiFile.js","components/upload/UploadSingleFile.js","components/upload/UploadAvatar.js","pages/components-overview/material-ui/stepper/PatientPersoData.js","assets/indications/bsg.pdf","assets/indications/acg.pdf","assets/indications/fig1.pdf","assets/indications/fig2.pdf","pages/components-overview/material-ui/stepper/MultiSelect.js","pages/components-overview/material-ui/stepper/Indications.js","pages/components-overview/material-ui/stepper/Conclusion.js","assets/examen/criterion.png","assets/examen/gastro-oeso.jpg","assets/examen/gov.jpg","assets/examen/paris.png","assets/examen/prague.jpg","assets/examen/reflux.jpg","assets/examen/vo.png","assets/examen/zargar.png","assets/examen/cancel.png","assets/examen/A.png","assets/examen/B.png","assets/examen/C.png","assets/examen/D.png","assets/examen/checklist.jpg","pages/components-overview/material-ui/stepper/Task.js","pages/components-overview/material-ui/stepper/TaskList.js","pages/components-overview/material-ui/stepper/ConclusionGenerator.js","pages/components-overview/material-ui/stepper/ExamenEndoscopique.js","assets/examen/forrest.png","pages/components-overview/material-ui/stepper/CustomizedStepper.js","pages/components-overview/material-ui/stepper/index.js"],"names":["setup","window","gtag","track","pageview","props","googleAnalyticsConfig","event","type","Page","forwardRef","ref","children","title","other","pathname","useLocation","sendPageViewEvent","useCallback","page_path","useEffect","Box","HeaderBreadcrumbs","links","action","heading","moreLink","sx","mb","display","alignItems","flexGrow","variant","gutterBottom","flexShrink","mt","isString","href","target","map","noWrap","module","exports","Block","Card","overflow","position","width","CardHeader","p","minHeight","fData","number","numeral","format","DropZoneStyle","styled","theme","outline","textAlign","flexDirection","justifyContent","padding","spacing","borderRadius","shape","backgroundColor","palette","background","neutral","border","grey","opacity","cursor","breakpoints","up","UploadMultiFile","error","showPreview","files","onRemove","onRemoveAll","onUpload","hasFile","length","useDropzone","getRootProps","getInputProps","isDragActive","isDragReject","fileRejections","ShowRejectionItems","Paper","py","px","borderColor","bgcolor","alpha","main","file","errors","path","size","my","Typography","e","component","message","code","color","ml","md","textDecoration","List","disablePadding","AnimatePresence","name","preview","key","ListItem","motion","div","varFadeInRight","m","height","src","objectFit","top","right","onClick","icon","closeFill","divider","ListItemIcon","fileFill","ListItemText","primary","secondary","primaryTypographyProps","secondaryTypographyProps","ListItemSecondaryAction","edge","Stack","direction","Button","mr","transition","transitions","create","margin","zIndex","text","easing","easeInOut","duration","shorter","PatientPersoData","isEdit","formik","getFieldProps","values","touched","handleSubmit","isSubmitting","setFieldValue","Grid","container","item","xs","sm","TextField","fullWidth","label","select","placeholder","SelectProps","native","value","option","inputProps","inputMode","pattern","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","getStyles","className","fontWeight","indexOf","MultiSelect","options","limit","formikValue","useState","setClassName","FormControl","InputLabel","id","Select","labelId","multiple","onChange","newArray","split","input","OutlinedInput","MenuItem","FGDOdiagnostique","FGDOthérapeutique","classes","gestionAntiCoagulants","ExploredItem","field","yesLabel","noLabel","isChecked","setIsChecked","ToggleButtonGroup","exclusive","checked","ToggleButton","UserNewForm","diagnostiqueIndex","setDiagnostiqueIndex","thérapeutiqueIndex","setThérapeutiqueIndex","checkIndiction","isThérapeutique","i","findIndex","typeIndication","Accordion","AccordionSummary","expandIcon","AccordionDetails","antiThrombotique","antiCoagulantsGestion","includes","BSG","rel","ACG","Fig1","Fig2","FormGroup","console","log","parseInt","array","index","splice","push","set","Set","sort","a","b","FormControlLabel","control","Checkbox","marginTop","suspicionCirrhoseHD","antibioprophylaxieJJA","conclusionText","setConclusionText","a1","isArray","osoConclusion","a2","cardiaConclusion","a3","fundusConclusion","a4","antreConclusion","a5","bulbeConclusion","a6","duodénumConclusion","string","forEach","content","marginLeft","chromoendoscopie","biopsies","multiline","minRows","sédationExamen","complicationSedation","complicationEndo","Task","task","onSaveTask","onDeleteTask","setText","text2","setText2","dropDownValue","setDropDownValue","dropDownValue2","setDropDownValue2","choiceValue","setChoiceValue","setContent","firstPart","setFirstPart","secondPart","setSecondPart","hasDropdown","hasTextField","displayFields","setDisplayFields","part1","part2","hasChoice","getCustomTask","customNb","flex","dropdownLabel","dropdownValues","undefined","choice","newContent","textFieldLabel","textField","textFieldLabel2","textField2","isCustom","draggableId","provided","draggableProps","dragHandleProps","innerRef","hasSecondDropdown","TaskList","tasks","droppableId","droppableProps","ConclusionGenerator","autocRef","useRef","setTasks","Autocomplete","inputValue","innerHTML","renderInput","params","trim","find","t","newTasks","Array","from","toString","Math","random","toFixed","handleSubmitForm","onDragEnd","result","destination","source","removed","zones","endoscopes","autresMateriels","optionsOesophage","hasTextField2","optionsCardia","optionsFundus","optionsAntre","optionsBulbe","optionsDuodénum","scores","modalVisible","setModalVisible","modalNumber","setModalNumber","displayModal","setFiles","React","Date","date","setDate","reader","FileReader","handleDropMultiFile","acceptedFiles","f","onload","Object","assign","URL","createObjectURL","readAsDataURL","modalViewStyle","isModalWide","shouldCloseOnOverlayClick","isOpen","onRequestClose","left","overlay","bottom","Cancel","alt","VO","fit","Prague","Reflux","Zargar","Gastrooeso","Paris","Gov","Criterion","getModalContent","MobileDateTimePicker","newDate","moment","anomaliesAvantSédation","osophage","osoNormal","osoBiopsies","cardia","cardiaNormal","fundus","fundusNormal","antre","antreNormal","pylore","pyloreNormal","estoBiopsies","bulbe","bulbeNormal","bulbeBiopsies","duodénum","duodénumNormal","duodénumBiopsies","A","B","C","D","getScore","qvFundus","qvPartieSup","qvPartieInf","qvAntre","getScoreQV","checklist","zoneMalExploré","onDrop","filteredItems","filter","_file","STEPS","ownerState","disabled","active","success","fontSize","ColorlibConnector","StepConnector","stepConnectorClasses","alternativeLabel","line","backgroundImage","gradients","completed","ColorlibStepIconRoot","mode","boxShadow","common","white","ColorlibStepIcon","icons","String","getStepContent","step","CustomizedSteppers","currentReport","enqueueSnackbar","useSnackbar","useFormik","enableReinitialize","initialValues","nom","prenom","age","genre","numDoss","numTel","serviceOrigine","consentement","antiCoagulantsClasse","antiCoagulantsClasseDesc","autresTraitements","ippHD","ippProtocolHD","vasoactifHD","vasoactifDescHD","antibioprophylaxieHD","antibioprophylaxieDescHD","antibioprophylaxieDescJJA","autresIndications","surveillanceLesionDesc","prémédicationIndication","secondTime","examenPhysiqueInterrogatoire","délaiExamen","dateExamen","jeuneExamen","consoTabacAvantExamen","consoTabacAvantJeune","anomaliesAvantSédationDesc","protocoleAvantSédation","endoscope","autresMaterielsDesc","osophageDesc","osoBiopsiesDesc","cardiaDesc","lacMuqueux","lacMuqueuxDesc","fundusDesc","antreDesc","estoBiopsiesDesc","pyloreDesc","bulbeDesc","bulbeBiopsiesDesc","duodénumDesc","duodénumBiopsiesDesc","indexZoneExploré","indexZoneMalExploré","images","FOGDtotale","duréeExamen","qualityVisualisation","chromoendoscopieDesc","biopsiesDesc","conclusion","CAT","seniors","residents","autreSeniors","autreResidents","ressentiPatient","complicationSedationDesc","complicationEndoDesc","necessiteHospitalisation","onSubmit","setSubmitting","resetForm","setErrors","fetch","blob","iblob","createTextOnNewLine","createBreak","ImageRun","data","transformation","doc","Document","creator","description","properties","SectionType","CONTINUOUS","sections","Paragraph","createText","HeadingLevel","HEADING_3","TextRun","bold","alignment","AlignmentType","CENTER","HEADING_1","break","createBoldText","createBoldTextOnNewLine","getAntiCoagulant","getAutreTraitement","getIndications","getHemoDigestive","getJJA","getSurveillance","getConsentementPatient","getPrémédicationIndication","getPatientaJeune","getProtocolSédation","getMaterial","BorderStyle","SINGLE","space","createUnderlinedBoldTextOnNewLine","getOesophage","getCardia","getEstomac","getFundus","getAntre","getPylore","getBiopsiesEsto","getBulbe","getDuodénum","getSecondTime","getPart1","getPart2","getPart3","RIGHT","getOperateurs","Packer","toBlob","saveAs","bodyValues","activeStep","setActiveStep","underline","classeString","join","replace","getIPP","getSuspicion","getVasoactif","getAntibioprophylaxie","materialString","getZoneMalExploré","getQualitéVisualisation","getConclusionGeneral","getCAT","seniorsText","s","residentsText","Stepper","connector","Step","StepLabel","StepIconComponent","Divider","noValidate","autoComplete","prevActiveStep","paddingTop","paddingBottom","StepperComponent","themeStretch","useSettings","Container","maxWidth","customShadows","z8"],"mappings":"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","file":"static/js/7.7db9ec74.chunk.js","sourcesContent":["import { googleAnalyticsConfig } from '../config';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst setup = (...args) => {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    return;\r\n  }\r\n  if (!window.gtag) {\r\n    return;\r\n  }\r\n  window.gtag(...args);\r\n};\r\n\r\nconst track = {\r\n  pageview: (props) => {\r\n    setup('config', googleAnalyticsConfig, props);\r\n  },\r\n  event: (type, props) => {\r\n    setup('event', type, props);\r\n  }\r\n};\r\n\r\nexport default track;\r\n","import PropTypes from 'prop-types';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { forwardRef, useEffect, useCallback } from 'react';\r\n// material\r\nimport { Box } from '@mui/material';\r\n// utils\r\nimport track from '../utils/analytics';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst Page = forwardRef(({ children, title = '', ...other }, ref) => {\r\n  const { pathname } = useLocation();\r\n\r\n  const sendPageViewEvent = useCallback(() => {\r\n    track.pageview({\r\n      page_path: pathname\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    sendPageViewEvent();\r\n  }, [sendPageViewEvent]);\r\n\r\n  return (\r\n    <Box ref={ref} {...other}>\r\n      <Helmet>\r\n        <title>{title}</title>\r\n      </Helmet>\r\n      {children}\r\n    </Box>\r\n  );\r\n});\r\n\r\nPage.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  title: PropTypes.string\r\n};\r\n\r\nexport default Page;\r\n","import { isString } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\n// material\r\nimport { Box, Typography, Link } from '@mui/material';\r\n//\r\nimport { MBreadcrumbs } from './@material-extend';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nHeaderBreadcrumbs.propTypes = {\r\n  links: PropTypes.array,\r\n  action: PropTypes.node,\r\n  heading: PropTypes.string.isRequired,\r\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\r\n  sx: PropTypes.object\r\n};\r\n\r\nexport default function HeaderBreadcrumbs({ links, action, heading, moreLink = '' || [], sx, ...other }) {\r\n  return (\r\n    <Box sx={{ mb: 5, ...sx }}>\r\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n        <Box sx={{ flexGrow: 1 }}>\r\n          <Typography variant=\"h4\" gutterBottom>\r\n            {heading}\r\n          </Typography>\r\n          <MBreadcrumbs links={links} {...other} />\r\n        </Box>\r\n\r\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\r\n      </Box>\r\n\r\n      <Box sx={{ mt: 2 }}>\r\n        {isString(moreLink) ? (\r\n          <Link href={moreLink} target=\"_blank\" variant=\"body2\">\r\n            {moreLink}\r\n          </Link>\r\n        ) : (\r\n          moreLink.map((href) => (\r\n            <Link noWrap key={href} href={href} variant=\"body2\" target=\"_blank\" sx={{ display: 'table' }}>\r\n              {href}\r\n            </Link>\r\n          ))\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2bfFw\",\"Modal\":\"Modal_Modal__1ki6w\"};","import PropTypes from 'prop-types';\r\n// material\r\nimport { Card, CardHeader, Box, Typography } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nLabel.propTypes = {\r\n  title: PropTypes.string\r\n};\r\n\r\nexport function Label({ title }) {\r\n  return (\r\n    <Typography variant=\"overline\" component=\"p\" gutterBottom sx={{ color: 'text.secondary' }}>\r\n      {title}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nBlock.propTypes = {\r\n  title: PropTypes.string,\r\n  children: PropTypes.node,\r\n  sx: PropTypes.object\r\n};\r\n\r\nexport function Block({ title, sx, children }) {\r\n  return (\r\n    <Card sx={{ overflow: 'unset', position: 'unset', width: '100%' }}>\r\n      {title && <CardHeader title={title} />}\r\n      <Box\r\n        sx={{\r\n          p: 3,\r\n          minHeight: 180,\r\n          ...sx\r\n        }}\r\n      >\r\n        {children}\r\n      </Box>\r\n    </Card>\r\n  );\r\n}\r\n","import { replace } from 'lodash';\r\nimport numeral from 'numeral';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport function fCurrency(number) {\r\n  return numeral(number).format(Number.isInteger(number) ? '$0,0' : '$0,0.00');\r\n}\r\n\r\nexport function fPercent(number) {\r\n  return numeral(number / 100).format('0.0%');\r\n}\r\n\r\nexport function fNumber(number) {\r\n  return numeral(number).format();\r\n}\r\n\r\nexport function fShortenNumber(number) {\r\n  return replace(numeral(number).format('0.00a'), '.00', '');\r\n}\r\n\r\nexport function fData(number) {\r\n  return numeral(number).format('0.0 b');\r\n}\r\n","import { isString } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport fileFill from '@iconify/icons-eva/file-fill';\r\nimport closeFill from '@iconify/icons-eva/close-fill';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n// material\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport {\r\n  Box,\r\n  List,\r\n  Stack,\r\n  Paper,\r\n  Button,\r\n  ListItem,\r\n  Typography,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  ListItemSecondaryAction\r\n} from '@mui/material';\r\n// utils\r\nimport { fData } from '../../utils/formatNumber';\r\n//\r\nimport { MIconButton } from '../@material-extend';\r\nimport { varFadeInRight } from '../animate';\r\nimport { UploadIllustration } from '../../assets';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst DropZoneStyle = styled('div')(({ theme }) => ({\r\n  outline: 'none',\r\n  display: 'flex',\r\n  textAlign: 'center',\r\n  alignItems: 'center',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  padding: theme.spacing(5, 1),\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.background.neutral,\r\n  border: `1px dashed ${theme.palette.grey[500_32]}`,\r\n  '&:hover': { opacity: 0.72, cursor: 'pointer' },\r\n  [theme.breakpoints.up('md')]: { textAlign: 'left', flexDirection: 'row' }\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nUploadMultiFile.propTypes = {\r\n  error: PropTypes.bool,\r\n  showPreview: PropTypes.bool,\r\n  files: PropTypes.array,\r\n  onRemove: PropTypes.func,\r\n  onRemoveAll: PropTypes.func,\r\n  onUpload: PropTypes.func,\r\n  sx: PropTypes.object\r\n};\r\n\r\nexport default function UploadMultiFile({\r\n  error,\r\n  showPreview = false,\r\n  files,\r\n  onRemove,\r\n  onRemoveAll,\r\n  onUpload,\r\n  sx,\r\n  ...other\r\n}) {\r\n  const hasFile = files.length > 0;\r\n\r\n  const { getRootProps, getInputProps, isDragActive, isDragReject, fileRejections } = useDropzone({\r\n    ...other\r\n  });\r\n\r\n  const ShowRejectionItems = () => (\r\n    <Paper\r\n      variant=\"outlined\"\r\n      sx={{\r\n        py: 1,\r\n        px: 2,\r\n        mt: 3,\r\n        borderColor: 'error.light',\r\n        bgcolor: (theme) => alpha(theme.palette.error.main, 0.08)\r\n      }}\r\n    >\r\n      {fileRejections.map(({ file, errors }) => {\r\n        const { path, size } = file;\r\n        return (\r\n          <Box key={path} sx={{ my: 1 }}>\r\n            <Typography variant=\"subtitle2\" noWrap>\r\n              {path} - {fData(size)}\r\n            </Typography>\r\n            {errors.map((e) => (\r\n              <Typography key={e.code} variant=\"caption\" component=\"p\">\r\n                - {e.message}\r\n              </Typography>\r\n            ))}\r\n          </Box>\r\n        );\r\n      })}\r\n    </Paper>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', ...sx }}>\r\n      <DropZoneStyle\r\n        {...getRootProps()}\r\n        sx={{\r\n          ...(isDragActive && { opacity: 0.72 }),\r\n          ...((isDragReject || error) && {\r\n            color: 'error.main',\r\n            borderColor: 'error.light',\r\n            bgcolor: 'error.lighter'\r\n          })\r\n        }}\r\n      >\r\n        <input {...getInputProps()} />\r\n\r\n        <UploadIllustration sx={{ width: 220 }} />\r\n\r\n        <Box sx={{ p: 3, ml: { md: 2 } }}>\r\n          <Typography gutterBottom variant=\"h5\">\r\n            Téléverser les photos\r\n          </Typography>\r\n\r\n          <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n            Déposez les fichiers ici ou cliquez&nbsp;\r\n            <Typography variant=\"body2\" component=\"span\" sx={{ color: 'primary.main', textDecoration: 'underline' }}>\r\n              parcourir\r\n            </Typography>\r\n            &nbsp;votre machine\r\n          </Typography>\r\n        </Box>\r\n      </DropZoneStyle>\r\n\r\n      {fileRejections.length > 0 && <ShowRejectionItems />}\r\n\r\n      <List disablePadding sx={{ ...(hasFile && { my: 3 }) }}>\r\n        <AnimatePresence>\r\n          {files.map((file) => {\r\n            const { name, size, preview } = file;\r\n            const key = isString(file) ? file : name;\r\n\r\n            if (showPreview) {\r\n              return (\r\n                <ListItem\r\n                  key={key}\r\n                  component={motion.div}\r\n                  {...varFadeInRight}\r\n                  sx={{\r\n                    p: 0,\r\n                    m: 0.5,\r\n                    width: 80,\r\n                    height: 80,\r\n                    borderRadius: 1.5,\r\n                    overflow: 'hidden',\r\n                    position: 'relative',\r\n                    display: 'inline-flex'\r\n                  }}\r\n                >\r\n                  <Paper\r\n                    variant=\"outlined\"\r\n                    component=\"img\"\r\n                    src={isString(file) ? file : preview}\r\n                    sx={{ width: '100%', height: '100%', objectFit: 'cover', position: 'absolute' }}\r\n                  />\r\n                  <Box sx={{ top: 6, right: 6, position: 'absolute' }}>\r\n                    <MIconButton\r\n                      size=\"small\"\r\n                      onClick={() => onRemove(file)}\r\n                      sx={{\r\n                        p: '2px',\r\n                        color: 'common.white',\r\n                        bgcolor: (theme) => alpha(theme.palette.grey[900], 0.72),\r\n                        '&:hover': {\r\n                          bgcolor: (theme) => alpha(theme.palette.grey[900], 0.48)\r\n                        }\r\n                      }}\r\n                    >\r\n                      <Icon icon={closeFill} />\r\n                    </MIconButton>\r\n                  </Box>\r\n                </ListItem>\r\n              );\r\n            }\r\n\r\n            return (\r\n              <ListItem\r\n                key={key}\r\n                component={motion.div}\r\n                {...varFadeInRight}\r\n                sx={{\r\n                  my: 1,\r\n                  py: 0.75,\r\n                  px: 2,\r\n                  borderRadius: 1,\r\n                  border: (theme) => `solid 1px ${theme.palette.divider}`,\r\n                  bgcolor: 'background.paper'\r\n                }}\r\n              >\r\n                <ListItemIcon>\r\n                  <Icon icon={fileFill} width={28} height={28} />\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={isString(file) ? file : name}\r\n                  secondary={isString(file) ? '' : fData(size)}\r\n                  primaryTypographyProps={{ variant: 'subtitle2' }}\r\n                  secondaryTypographyProps={{ variant: 'caption' }}\r\n                />\r\n                <ListItemSecondaryAction>\r\n                  <MIconButton edge=\"end\" size=\"small\" onClick={() => onRemove(file)}>\r\n                    <Icon icon={closeFill} />\r\n                  </MIconButton>\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            );\r\n          })}\r\n        </AnimatePresence>\r\n      </List>\r\n\r\n      {hasFile && (\r\n        <Stack direction=\"row\" justifyContent=\"flex-end\">\r\n          <Button onClick={onRemoveAll} sx={{ mr: 1.5 }}>\r\n            Remove all\r\n          </Button>\r\n          <Button variant=\"contained\" onClick={onUpload}>\r\n            Upload files\r\n          </Button>\r\n        </Stack>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import { isString } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport { useDropzone } from 'react-dropzone';\r\n// material\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport { Paper, Box, Typography } from '@mui/material';\r\n// utils\r\nimport { fData } from '../../utils/formatNumber';\r\n//\r\nimport { UploadIllustration } from '../../assets';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst DropZoneStyle = styled('div')(({ theme }) => ({\r\n  outline: 'none',\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  textAlign: 'center',\r\n  position: 'relative',\r\n  alignItems: 'center',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  padding: theme.spacing(5, 0),\r\n  borderRadius: theme.shape.borderRadius,\r\n  transition: theme.transitions.create('padding'),\r\n  backgroundColor: theme.palette.background.neutral,\r\n  border: `1px dashed ${theme.palette.grey[500_32]}`,\r\n  '&:hover': {\r\n    opacity: 0.72,\r\n    cursor: 'pointer'\r\n  },\r\n  [theme.breakpoints.up('md')]: { textAlign: 'left', flexDirection: 'row' }\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nUploadSingleFile.propTypes = {\r\n  error: PropTypes.bool,\r\n  file: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n  sx: PropTypes.object\r\n};\r\n\r\nexport default function UploadSingleFile({ error, file, sx, ...other }) {\r\n  const { getRootProps, getInputProps, isDragActive, isDragReject, fileRejections } = useDropzone({\r\n    multiple: false,\r\n    ...other\r\n  });\r\n\r\n  const ShowRejectionItems = () => (\r\n    <Paper\r\n      variant=\"outlined\"\r\n      sx={{\r\n        py: 1,\r\n        px: 2,\r\n        mt: 3,\r\n        borderColor: 'error.light',\r\n        bgcolor: (theme) => alpha(theme.palette.error.main, 0.08)\r\n      }}\r\n    >\r\n      {fileRejections.map(({ file, errors }) => {\r\n        const { path, size } = file;\r\n        return (\r\n          <Box key={path} sx={{ my: 1 }}>\r\n            <Typography variant=\"subtitle2\" noWrap>\r\n              {path} - {fData(size)}\r\n            </Typography>\r\n            {errors.map((e) => (\r\n              <Typography key={e.code} variant=\"caption\" component=\"p\">\r\n                - {e.message}\r\n              </Typography>\r\n            ))}\r\n          </Box>\r\n        );\r\n      })}\r\n    </Paper>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', ...sx }}>\r\n      <DropZoneStyle\r\n        {...getRootProps()}\r\n        sx={{\r\n          ...(isDragActive && { opacity: 0.72 }),\r\n          ...((isDragReject || error) && {\r\n            color: 'error.main',\r\n            borderColor: 'error.light',\r\n            bgcolor: 'error.lighter'\r\n          }),\r\n          ...(file && { padding: '12% 0' })\r\n        }}\r\n      >\r\n        <input {...getInputProps()} />\r\n\r\n        <UploadIllustration sx={{ width: 220 }} />\r\n\r\n        <Box sx={{ p: 3, ml: { md: 2 } }}>\r\n          <Typography gutterBottom variant=\"h5\">\r\n            Drop or Select file\r\n          </Typography>\r\n\r\n          <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n            Drop files here or click&nbsp;\r\n            <Typography variant=\"body2\" component=\"span\" sx={{ color: 'primary.main', textDecoration: 'underline' }}>\r\n              browse\r\n            </Typography>\r\n            &nbsp;thorough your machine\r\n          </Typography>\r\n        </Box>\r\n\r\n        {file && (\r\n          <Box\r\n            component=\"img\"\r\n            alt=\"file preview\"\r\n            src={isString(file) ? file : file.preview}\r\n            sx={{\r\n              top: 8,\r\n              borderRadius: 1,\r\n              objectFit: 'cover',\r\n              position: 'absolute',\r\n              width: 'calc(100% - 16px)',\r\n              height: 'calc(100% - 16px)'\r\n            }}\r\n          />\r\n        )}\r\n      </DropZoneStyle>\r\n\r\n      {fileRejections.length > 0 && <ShowRejectionItems />}\r\n    </Box>\r\n  );\r\n}\r\n","import { isString } from 'lodash';\r\nimport PropTypes from 'prop-types';\r\nimport { Icon } from '@iconify/react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport roundAddAPhoto from '@iconify/icons-ic/round-add-a-photo';\r\n// material\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport { Box, Typography, Paper } from '@mui/material';\r\n// utils\r\nimport { fData } from '../../utils/formatNumber';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  width: 144,\r\n  height: 144,\r\n  margin: 'auto',\r\n  borderRadius: '50%',\r\n  padding: theme.spacing(1),\r\n  border: `1px dashed ${theme.palette.grey[500_32]}`\r\n}));\r\n\r\nconst DropZoneStyle = styled('div')({\r\n  zIndex: 0,\r\n  width: '100%',\r\n  height: '100%',\r\n  outline: 'none',\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  borderRadius: '50%',\r\n  position: 'relative',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  '& > *': { width: '100%', height: '100%' },\r\n  '&:hover': {\r\n    cursor: 'pointer',\r\n    '& .placeholder': {\r\n      zIndex: 9\r\n    }\r\n  }\r\n});\r\n\r\nconst PlaceholderStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  position: 'absolute',\r\n  alignItems: 'center',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  color: theme.palette.text.secondary,\r\n  backgroundColor: theme.palette.background.neutral,\r\n  transition: theme.transitions.create('opacity', {\r\n    easing: theme.transitions.easing.easeInOut,\r\n    duration: theme.transitions.duration.shorter\r\n  }),\r\n  '&:hover': { opacity: 0.72 }\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nUploadAvatar.propTypes = {\r\n  error: PropTypes.bool,\r\n  file: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n  caption: PropTypes.node,\r\n  sx: PropTypes.object\r\n};\r\n\r\nexport default function UploadAvatar({ error, file, caption, sx, ...other }) {\r\n  const { getRootProps, getInputProps, isDragActive, isDragReject, fileRejections } = useDropzone({\r\n    multiple: false,\r\n    ...other\r\n  });\r\n\r\n  const ShowRejectionItems = () => (\r\n    <Paper\r\n      variant=\"outlined\"\r\n      sx={{\r\n        py: 1,\r\n        px: 2,\r\n        my: 2,\r\n        borderColor: 'error.light',\r\n        bgcolor: (theme) => alpha(theme.palette.error.main, 0.08)\r\n      }}\r\n    >\r\n      {fileRejections.map(({ file, errors }) => {\r\n        const { path, size } = file;\r\n        return (\r\n          <Box key={path} sx={{ my: 1 }}>\r\n            <Typography variant=\"subtitle2\" noWrap>\r\n              {path} - {fData(size)}\r\n            </Typography>\r\n            {errors.map((e) => (\r\n              <Typography key={e.code} variant=\"caption\" component=\"p\">\r\n                - {e.message}\r\n              </Typography>\r\n            ))}\r\n          </Box>\r\n        );\r\n      })}\r\n    </Paper>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <RootStyle sx={sx}>\r\n        <DropZoneStyle\r\n          {...getRootProps()}\r\n          sx={{\r\n            ...(isDragActive && { opacity: 0.72 }),\r\n            ...((isDragReject || error) && {\r\n              color: 'error.main',\r\n              borderColor: 'error.light',\r\n              bgcolor: 'error.lighter'\r\n            })\r\n          }}\r\n        >\r\n          <input {...getInputProps()} />\r\n\r\n          {file && (\r\n            <Box\r\n              component=\"img\"\r\n              alt=\"avatar\"\r\n              src={isString(file) ? file : file.preview}\r\n              sx={{ zIndex: 8, objectFit: 'cover' }}\r\n            />\r\n          )}\r\n\r\n          <PlaceholderStyle\r\n            className=\"placeholder\"\r\n            sx={{\r\n              ...(file && {\r\n                opacity: 0,\r\n                color: 'common.white',\r\n                bgcolor: 'grey.900',\r\n                '&:hover': { opacity: 0.72 }\r\n              })\r\n            }}\r\n          >\r\n            <Box component={Icon} icon={roundAddAPhoto} sx={{ width: 24, height: 24, mb: 1 }} />\r\n            <Typography variant=\"caption\">{file ? 'Update photo' : 'Upload photo'}</Typography>\r\n          </PlaceholderStyle>\r\n        </DropZoneStyle>\r\n      </RootStyle>\r\n\r\n      {caption}\r\n\r\n      {fileRejections.length > 0 && <ShowRejectionItems />}\r\n    </>\r\n  );\r\n}\r\n","import * as Yup from 'yup';\r\nimport PropTypes from 'prop-types';\r\nimport { useState, useCallback } from 'react';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\n// material\r\nimport { LoadingButton } from '@mui/lab';\r\nimport {\r\n  Chip,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Autocomplete,\r\n  TextField,\r\n  Typography,\r\n  Box,\r\n  ToggleButton,\r\n  ToggleButtonGroup,\r\n  FormControlLabel,\r\n  Switch\r\n} from '@mui/material';\r\n// utils\r\nimport fakeRequest from '../../../../utils/fakeRequest';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../../routes/paths';\r\nimport { UploadMultiFile } from '../../../../components/upload';\r\n\r\n//\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nExploredItem.propTypes = {\r\n  label: PropTypes.string,\r\n  formik: PropTypes.object\r\n};\r\nfunction ExploredItem({ label, formik }) {\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n  const [alignment, setAlignment] = useState('Non Exploré');\r\n\r\n  const handleChange = (event, newAlignment) => {\r\n    setAlignment(newAlignment);\r\n  };\r\n  return (\r\n    <>\r\n      <Box sx={{ flexGrow: 1 }}>\r\n        <Typography variant=\"subtitle2\">{label}</Typography>\r\n        <ToggleButtonGroup color=\"primary\" value={alignment} exclusive onChange={handleChange} aria-label=\"Platform\">\r\n          <ToggleButton value=\"Exploré\">Exploré</ToggleButton>\r\n          <ToggleButton value=\"Non Exploré\">Non Exploré</ToggleButton>\r\n        </ToggleButtonGroup>\r\n      </Box>\r\n      {alignment === 'Exploré' && (\r\n        <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n          <TextField\r\n            fullWidth\r\n            multiline\r\n            label={label}\r\n            {...getFieldProps(label)}\r\n            error={Boolean(touched.email && errors.email)}\r\n            helperText={touched.email && errors.email}\r\n          />\r\n        </Stack>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nPatientPersoData.propTypes = {\r\n  isEdit: PropTypes.bool,\r\n  formik: PropTypes.object\r\n};\r\n\r\nexport default function PatientPersoData({ isEdit, formik }) {\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} md={12}>\r\n        <Card sx={{ p: 3 }}>\r\n          <Stack spacing={3}>\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n              <TextField fullWidth label=\"Nom\" {...getFieldProps('nom')} />\r\n              <TextField fullWidth label=\"Prénom\" {...getFieldProps('prenom')} />\r\n            </Stack>\r\n\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n              <TextField\r\n                select\r\n                fullWidth\r\n                label=\"Genre\"\r\n                placeholder=\"Genre\"\r\n                {...getFieldProps('genre')}\r\n                SelectProps={{ native: true }}\r\n              >\r\n                <option key=\"0\" value=\"choisir genre\" />\r\n                {['Homme', 'Femme'].map((option) => (\r\n                  <option key={option} value={option}>\r\n                    {option}\r\n                  </option>\r\n                ))}\r\n              </TextField>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Age\"\r\n                {...getFieldProps('age')}\r\n                inputProps={{ inputMode: 'numeric', pattern: '[0-9]*' }}\r\n              />\r\n            </Stack>\r\n\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n              <TextField\r\n                select\r\n                fullWidth\r\n                label=\"Service d'origine\"\r\n                {...getFieldProps('serviceOrigine')}\r\n                SelectProps={{ native: true }}\r\n              >\r\n                <option key=\"0\" value=\"choisir service\" />\r\n                {[\r\n                  'Service des urgences',\r\n                  'Service de chirurgie générale',\r\n                  'Service de gastroentérologie',\r\n                  'Consultation externe de gastroentérologie',\r\n                  'Service de médecine'\r\n                ].map((option) => (\r\n                  <option key={option} value={option}>\r\n                    {option}\r\n                  </option>\r\n                ))}\r\n              </TextField>\r\n              <TextField fullWidth label=\"Numéro de téléphone\" {...getFieldProps('numTel')} />\r\n            </Stack>\r\n            <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n              <TextField fullWidth label=\"Numéro de dossier médical\" {...getFieldProps('numDoss')} />\r\n            </Stack>\r\n            {/* <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n              <TextField\r\n                multiline\r\n                fullWidth\r\n                label=\"antecedents\"\r\n                {...getFieldProps('antecedents')}\r\n                error={Boolean(touched.antecedents && errors.antecedents)}\r\n                helperText={touched.antecedents && errors.antecedents}\r\n              />\r\n            </Stack> */}\r\n          </Stack>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/bsg.c80ea149.pdf\";","export default __webpack_public_path__ + \"static/media/acg.e4be7bfd.pdf\";","export default __webpack_public_path__ + \"static/media/fig1.fa25291e.pdf\";","export default __webpack_public_path__ + \"static/media/fig2.d1df5c6f.pdf\";","import React, { useState } from 'react';\r\nimport {\r\n  Chip,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Autocomplete,\r\n  TextField,\r\n  Typography,\r\n  Box,\r\n  ToggleButton,\r\n  ToggleButtonGroup,\r\n  FormControlLabel,\r\n  Switch,\r\n  Select,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  MenuItem\r\n} from '@mui/material';\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 250\r\n    }\r\n  }\r\n};\r\nfunction getStyles(name, className) {\r\n  return {\r\n    fontWeight: className.indexOf(name) === -1 ? '300' : 'bold'\r\n  };\r\n}\r\nfunction MultiSelect({ label, options, limit = options.length, setFieldValue, formikValue }) {\r\n  const [className, setClassName] = useState([]);\r\n  const handleChangeClassName = (event) => {\r\n    const {\r\n      target: { value }\r\n    } = event;\r\n    const newArray = typeof value === 'string' ? value.split(',') : value;\r\n    if (newArray.length <= limit) setClassName(newArray);\r\n    setFieldValue(formikValue, newArray);\r\n  };\r\n  return (\r\n    <FormControl sx={{ width: '100%' }}>\r\n      <InputLabel id=\"demo-multiple-name-label\">{label ?? ''}</InputLabel>\r\n      <Select\r\n        labelId=\"demo-multiple-name-label\"\r\n        id=\"demo-multiple-name\"\r\n        multiple\r\n        value={className}\r\n        onChange={handleChangeClassName}\r\n        input={<OutlinedInput label={label ?? 'La classe des anti coagulants'} />}\r\n        MenuProps={MenuProps}\r\n      >\r\n        {options.map((name) => (\r\n          <MenuItem key={name} value={name} style={getStyles(name, className)}>\r\n            {name}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nexport default MultiSelect;\r\n","/* eslint-disable */\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport ReactModal from 'react-modal';\r\n\r\nimport { useSnackbar } from 'notistack';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\nimport dayjs from 'dayjs';\r\n// material\r\nimport {\r\n  Chip,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Autocomplete,\r\n  TextField,\r\n  Typography,\r\n  Box,\r\n  ToggleButton,\r\n  ToggleButtonGroup,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  Checkbox,\r\n  Switch,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  Radio,\r\n  RadioGroup,\r\n  Select,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  MenuItem\r\n} from '@mui/material';\r\n\r\nimport { useTheme } from '@mui/material/styles';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { DateTimePicker, MobileDateTimePicker, DesktopDateTimePicker } from '@mui/lab';\r\nimport Style from './Modal.module.css';\r\nimport BSG from '../../../../assets/indications/bsg.pdf';\r\nimport ACG from '../../../../assets/indications/acg.pdf';\r\nimport Fig1 from '../../../../assets/indications/fig1.pdf';\r\nimport Fig2 from '../../../../assets/indications/fig2.pdf';\r\nimport MultiSelect from './MultiSelect';\r\n\r\nconst FGDOdiagnostique = [\r\n  'Symptômes digestifs hauts persistants malgré une épreuve thérapeutique',\r\n  'Symptômes digestifs hauts avec signes d’alarmes ou âge >45ans',\r\n  'Dysphagie, odynophagie',\r\n  'RGO persistant ou récidivant après traitement',\r\n  'Surveillance d’une lésion prénéoplasique (exp : endobrachy œsophage)',\r\n  'Vomissements persistants',\r\n  'Pathologies au cours desquelles la FOGD peut modifier la prise en charge (exemple : ATCDs d’ulcère et indication d’une anticoagulation)',\r\n  'Polypose adénomateuse familiale',\r\n  'Explorer une lésion de découverte radiologique (lésion d’allure néoplasique, ulcère œsophagien ou gastrique, sténose)',\r\n  'Suspicion d’une spoliation sanguine et anémie ferriprive',\r\n  'Nécessité de faire des biopsies ou de prélever un liquide',\r\n  'Bilan d’une hypertension portale',\r\n  'Evaluation d’une reconstruction anatomique (Exp : fundoplicature, chirurgie bariatrique)'\r\n];\r\n\r\nconst FGDOthérapeutique = [\r\n  'Hémorragie digestive active actuelle ou récente',\r\n  'Traitement d’une lésion qui saigne',\r\n  'Ligature ou sclérothérapie pour varices œsophagiennes',\r\n  'Ingestion de caustique',\r\n  'Extraction de corps étranger',\r\n  'Résection d’un polype',\r\n  'Mise en place d’un drainage ou d’une stomie (exp : gastrostomie)',\r\n  'Dilatation d’une sténose',\r\n  'Prise en charge d’une achalasie',\r\n  'Prise en charge palliative d’une sténose d’origine néoplasique',\r\n  'Traitement d’une métaplasie intestinale',\r\n  'Prise en charge de complications (exp : fistule)'\r\n];\r\nconst classes = ['Aspirine', 'Antiagrégant plaquettaire', 'Anticoagulant oral', 'Anti vitamine K'];\r\nconst gestionAntiCoagulants = ['Maintenus', 'Arrêtés', 'Chevauchement', 'Autres'];\r\nFixedTags.propTypes = {\r\n  label: PropTypes.string\r\n};\r\nfunction FixedTags({ label }) {\r\n  const [value, setValue] = useState([]);\r\n\r\n  return (\r\n    <Autocomplete\r\n      multiple\r\n      id=\"fixed-tags-demo\"\r\n      value={value}\r\n      onChange={(event, newValue) => {\r\n        setValue([...newValue]);\r\n      }}\r\n      options={[]}\r\n      getOptionLabel={(option) => option.title}\r\n      renderTags={(tagValue, getTagProps) =>\r\n        tagValue.map((option, index) => <Chip key={option.title} label={option.title} {...getTagProps({ index })} />)\r\n      }\r\n      fullWidth\r\n      renderInput={(params) => <TextField {...params} label={label} />}\r\n    />\r\n  );\r\n}\r\n// ----------------------------------------------------------------------\r\n\r\nExploredItem.propTypes = {\r\n  label: PropTypes.string,\r\n  field: PropTypes.string,\r\n  formik: PropTypes.object\r\n};\r\nfunction ExploredItem({ label, field, formik, yesLabel, noLabel }) {\r\n  const { setFieldValue } = formik;\r\n  const [isChecked, setIsChecked] = useState(false);\r\n\r\n  const handleChange = (event, checked) => {\r\n    setIsChecked(checked);\r\n    setFieldValue(field, checked, false);\r\n  };\r\n  return (\r\n    <>\r\n      <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n        <Typography variant=\"h6\">{label}</Typography>\r\n        <ToggleButtonGroup\r\n          name={field}\r\n          color=\"primary\"\r\n          value={isChecked}\r\n          exclusive\r\n          onChange={handleChange}\r\n          aria-label=\"Platform\"\r\n        >\r\n          <ToggleButton value={false}>{noLabel}</ToggleButton>\r\n          <ToggleButton value>{yesLabel}</ToggleButton>\r\n        </ToggleButtonGroup>\r\n      </Stack>\r\n    </>\r\n  );\r\n}\r\n\r\nUserNewForm.propTypes = {\r\n  isEdit: PropTypes.bool,\r\n  formik: PropTypes.object\r\n};\r\n\r\nexport default function UserNewForm({ isEdit, formik }) {\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n  //  const [date, setDate] = React.useState(dayjs('2022-04-17T15:30'));\r\n\r\n  const [diagnostiqueIndex, setDiagnostiqueIndex] = useState([]);\r\n  const [thérapeutiqueIndex, setThérapeutiqueIndex] = useState([]);\r\n  const handleChangeRadioGroupDiagnostique = (event) => {\r\n    console.log('value', event.target.value);\r\n    const value = parseInt(event.target.value);\r\n    const array = [...diagnostiqueIndex];\r\n    const index = array.findIndex((e) => e === value);\r\n    if (index > -1) {\r\n      array.splice(index, 1);\r\n    } else {\r\n      array.push(value);\r\n    }\r\n    const set = [...new Set(array)].sort((a, b) => a - b);\r\n    console.log('diagnostiqueIndex', set);\r\n    setDiagnostiqueIndex(set);\r\n    setFieldValue('diagnostiqueIndex', set, false);\r\n  };\r\n  const handleChangeRadioGroupThérapeutique = (event) => {\r\n    console.log('value', event.target.value);\r\n    const value = parseInt(event.target.value);\r\n    const array = [...thérapeutiqueIndex];\r\n    const index = array.findIndex((e) => e === value);\r\n    if (index > -1) {\r\n      array.splice(index, 1);\r\n    } else {\r\n      array.push(value);\r\n    }\r\n    const set = [...new Set(array)].sort((a, b) => a - b);\r\n    console.log('thérapeutiqueIndex', set);\r\n    setThérapeutiqueIndex(set);\r\n    setFieldValue('thérapeutiqueIndex', set, false);\r\n  };\r\n  const checkIndiction = useCallback(\r\n    (isThérapeutique, i) => {\r\n      if (isThérapeutique) {\r\n        const index = thérapeutiqueIndex.findIndex((e) => e === i);\r\n        if (index > -1) {\r\n          return true;\r\n        }\r\n        return false;\r\n      } else {\r\n        const index = diagnostiqueIndex.findIndex((e) => e === i);\r\n        if (index > -1) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    },\r\n    [thérapeutiqueIndex, diagnostiqueIndex]\r\n  );\r\n  useEffect(() => {\r\n    setThérapeutiqueIndex([]);\r\n    setDiagnostiqueIndex([]);\r\n  }, [values.typeIndication]);\r\n\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} md={12}>\r\n        <Stack spacing={3}>\r\n          <ExploredItem\r\n            formik={formik}\r\n            field=\"consentement\"\r\n            label=\"Consentement éclairé du patient\"\r\n            noLabel=\"Non\"\r\n            yesLabel=\"Oui\"\r\n          />\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Traitements en cours</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                <ExploredItem\r\n                  formik={formik}\r\n                  field=\"antiThrombotique\"\r\n                  label=\"Traitement anti thrombotique\"\r\n                  yesLabel=\"Oui\"\r\n                  noLabel=\"Non\"\r\n                />\r\n                {values.antiThrombotique && (\r\n                  <>\r\n                    <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <MultiSelect\r\n                        label=\"Classe des anti coagulants\"\r\n                        options={classes}\r\n                        formikValue=\"antiCoagulantsClasse\"\r\n                        setFieldValue={setFieldValue}\r\n                        limit={3}\r\n                      />\r\n                    </Stack>\r\n                    <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <Typography variant=\"h6\">Gestion des anticoagulants</Typography>\r\n                      <TextField\r\n                        select\r\n                        fullWidth\r\n                        label=\"Gestion des anticoagulants\"\r\n                        {...getFieldProps('antiCoagulantsGestion')}\r\n                        SelectProps={{ native: true }}\r\n                      >\r\n                        <option key=\"0\" value=\"choisir\" />\r\n                        {gestionAntiCoagulants.map((option) => (\r\n                          <option key={option} value={option}>\r\n                            {option}\r\n                          </option>\r\n                        ))}\r\n                      </TextField>\r\n                      {values.antiCoagulantsGestion.includes('Autres') && (\r\n                        <TextField fullWidth label=\"Autres\" {...getFieldProps('antiCoagulantsClasseDesc')} />\r\n                      )}\r\n                    </Stack>\r\n                  </>\r\n                )}\r\n                <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <Button\r\n                    sx={{ width: '50%', textAlign: 'center' }}\r\n                    variant=\"contained\"\r\n                    href={BSG}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    BSG_ESGE : Antiplatelets and anticoagulation update 2021\r\n                  </Button>\r\n                  <Button\r\n                    sx={{ width: '50%', textAlign: 'center' }}\r\n                    variant=\"contained\"\r\n                    href={ACG}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    ACG_CAG : Management of anticoagulant and antiplatelets in gastrointestinal bleeding and\r\n                    periendoscopic period\r\n                  </Button>\r\n                </Stack>\r\n                <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <Button\r\n                    sx={{ width: '50%', textAlign: 'center' }}\r\n                    variant=\"contained\"\r\n                    href={Fig1}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    Fig 1 : Guidelines for the management of patients on P2Y12 receptor antagonist antiplatelet agents\r\n                    undergoing endoscopic procedures\r\n                  </Button>\r\n                  <Button\r\n                    sx={{ width: '50%', textAlign: 'center' }}\r\n                    variant=\"contained\"\r\n                    href={Fig2}\r\n                    target=\"_blank\"\r\n                    rel=\"noreferrer\"\r\n                  >\r\n                    Fig 2 : Guidelines for the management of patients on warfarin or Direct Oral Anticoagulants (DOAC)\r\n                    undergoing endoscopic procedures\r\n                  </Button>\r\n                </Stack>\r\n                <Typography variant=\"h6\">Autres</Typography>\r\n                <TextField fullWidth label=\"Autres traitements\" {...getFieldProps('autresTraitements')} />\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Indications</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack spacing={3}>\r\n                <ExploredItem\r\n                  noLabel=\"FOGD diagnostique\"\r\n                  yesLabel=\"FOGD thérapeutique\"\r\n                  formik={formik}\r\n                  field=\"typeIndication\"\r\n                  label=\"\"\r\n                />\r\n                {values.typeIndication ? (\r\n                  <FormGroup value={thérapeutiqueIndex} onChange={handleChangeRadioGroupThérapeutique}>\r\n                    {FGDOthérapeutique.map((item, index) => (\r\n                      <FormControlLabel key={index} value={index} control={<Checkbox />} label={item} />\r\n                    ))}\r\n                  </FormGroup>\r\n                ) : (\r\n                  <FormGroup value={diagnostiqueIndex} onChange={handleChangeRadioGroupDiagnostique}>\r\n                    {FGDOdiagnostique.map((item, index) => (\r\n                      <FormControlLabel key={`${index}00`} value={index} control={<Checkbox />} label={item} />\r\n                    ))}\r\n                  </FormGroup>\r\n                )}\r\n              </Stack>\r\n\r\n              {values.typeIndication && checkIndiction(true, 0) && (\r\n                <Stack spacing={3} style={{ marginTop: 20 }}>\r\n                  <Typography variant=\"h5\">Prise en charge</Typography>\r\n                  <Stack spacing={{ xs: 3, sm: 2 }} style={{}}>\r\n                    <ExploredItem noLabel=\"Non\" yesLabel=\"Oui\" formik={formik} field=\"ippHD\" label=\"IPP\" />\r\n\r\n                    <ExploredItem\r\n                      noLabel=\"Non\"\r\n                      yesLabel=\"Oui\"\r\n                      formik={formik}\r\n                      field=\"suspicionCirrhoseHD\"\r\n                      label=\"Suspicion d’hémorragie par hypertension portale \"\r\n                    />\r\n                    {values.suspicionCirrhoseHD && (\r\n                      <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                        <ExploredItem\r\n                          noLabel=\"Non\"\r\n                          yesLabel=\"Oui\"\r\n                          formik={formik}\r\n                          field=\"vasoactifHD\"\r\n                          label=\"Traitement vasoactif\"\r\n                        />\r\n                        <ExploredItem\r\n                          noLabel=\"Non\"\r\n                          yesLabel=\"Oui\"\r\n                          formik={formik}\r\n                          field=\"antibioprophylaxieHD\"\r\n                          label=\"Antibioprophylaxie\"\r\n                        />\r\n                      </Stack>\r\n                    )}\r\n                  </Stack>\r\n                </Stack>\r\n              )}\r\n              {!values.typeIndication && checkIndiction(false, 4) && (\r\n                <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }} sx={{ mt: '1vh' }}>\r\n                  {/* <MultiSelect\r\n                    label=\"Surveillance d’une lésion prénéoplasique\"\r\n                    options={['Atrophie', 'Métaplasie intestinale']}\r\n                    formikValue=\"surveillanceLesionDesc\"\r\n                    setFieldValue={setFieldValue}\r\n                    limit={2}\r\n                  /> */}\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Surveillance d’une lésion prénéoplasique\"\r\n                    {...getFieldProps('surveillanceLesionDesc')}\r\n                  />\r\n                </Stack>\r\n              )}\r\n              {values.typeIndication && checkIndiction(true, 6) && (\r\n                <Stack spacing={{ xs: 3, sm: 2 }}>\r\n                  <ExploredItem\r\n                    noLabel=\"Non\"\r\n                    yesLabel=\"Oui\"\r\n                    formik={formik}\r\n                    field=\"antibioprophylaxieJJA\"\r\n                    label=\"Antibioprophyaxie\"\r\n                  />\r\n                  {values.antibioprophylaxieJJA && (\r\n                    <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <TextField\r\n                        fullWidth\r\n                        label=\"Antibioprophyaxie: lequel/dose/depuis\"\r\n                        {...getFieldProps('antibioprophylaxieDescJJA')}\r\n                      />\r\n                    </Stack>\r\n                  )}\r\n                </Stack>\r\n              )}\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }} style={{ marginTop: 20 }}>\r\n                <Typography variant=\"h6\">Autres indications</Typography>\r\n                <TextField fullWidth label=\"Autres indications\" {...getFieldProps('autresIndications')} />\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        </Stack>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","/* eslint-disable */\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState, useCallback, useEffect } from 'react';\r\nimport { isArray } from 'lodash';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\n// material\r\nimport { LoadingButton } from '@mui/lab';\r\nimport {\r\n  Chip,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Autocomplete,\r\n  TextField,\r\n  Typography,\r\n  Box,\r\n  ToggleButton,\r\n  ToggleButtonGroup,\r\n  FormControlLabel,\r\n  Switch,\r\n  Select,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  MenuItem\r\n} from '@mui/material';\r\nimport MultiSelect from './MultiSelect';\r\n\r\nExploredItem.propTypes = {\r\n  label: PropTypes.string,\r\n  formik: PropTypes.object\r\n};\r\n// function ExploredItem({ label, formik }) {\r\n//   const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n//   const [alignment, setAlignment] = useState('Non Exploré');\r\n\r\n//   const handleChange = (event, newAlignment) => {\r\n//     setAlignment(newAlignment);\r\n//   };\r\n//   return (\r\n//     <>\r\n//       <Box sx={{ flexGrow: 1 }}>\r\n//         <Typography variant=\"subtitle2\">{label}</Typography>\r\n//         <ToggleButtonGroup color=\"primary\" value={alignment} exclusive onChange={handleChange} aria-label=\"Platform\">\r\n//           <ToggleButton value=\"Exploré\">Exploré</ToggleButton>\r\n//           <ToggleButton value=\"Non Exploré\">Non Exploré</ToggleButton>\r\n//         </ToggleButtonGroup>\r\n//       </Box>\r\n//       {alignment === 'Exploré' && (\r\n//         <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n//           <TextField\r\n//             fullWidth\r\n//             multiline\r\n//             label={label}\r\n//             {...getFieldProps(label)}\r\n//             error={Boolean(touched.email && errors.email)}\r\n//             helperText={touched.email && errors.email}\r\n//           />\r\n//         </Stack>\r\n//       )}\r\n//     </>\r\n//   );\r\n// }\r\n\r\nfunction ExploredItem({ label, field, formik, yesLabel, noLabel }) {\r\n  const { setFieldValue } = formik;\r\n  const [isChecked, setIsChecked] = useState(false);\r\n\r\n  const handleChange = (event, checked) => {\r\n    setIsChecked(checked);\r\n    setFieldValue(field, checked, false);\r\n  };\r\n  return (\r\n    <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n      <Typography variant=\"h6\">{label}</Typography>\r\n      <ToggleButtonGroup\r\n        name={field}\r\n        color=\"primary\"\r\n        value={isChecked}\r\n        exclusive\r\n        onChange={handleChange}\r\n        aria-label=\"Platform\"\r\n      >\r\n        <ToggleButton value={false}>{noLabel}</ToggleButton>\r\n        <ToggleButton value>{yesLabel}</ToggleButton>\r\n      </ToggleButtonGroup>\r\n    </Stack>\r\n  );\r\n}\r\nUserNewForm.propTypes = {\r\n  isEdit: PropTypes.bool,\r\n  formik: PropTypes.object\r\n};\r\n\r\nexport default function UserNewForm({ isEdit, formik }) {\r\n  const { values, getFieldProps, setFieldValue } = formik;\r\n  const [conclusionText, setConclusionText] = useState('');\r\n\r\n  const optionsSeniors = [\r\n    'Dr Enaifer',\r\n    'Dr Bougassas',\r\n    'Dr Ben Nejma',\r\n    'Dr Bouchabou',\r\n    'Dr Hemdani',\r\n    'Dr Nakhli',\r\n    'Autre'\r\n  ];\r\n  const optionsResidents = [\r\n    'Rste Medhioub',\r\n    'Rste Smaoui',\r\n    'Rste Kefi',\r\n    'Rste Ben Safta',\r\n    'Rste Ghanouchi',\r\n    'Rste Mbarek',\r\n    'Autre'\r\n  ];\r\n  //disable-eslint\r\n  const optionsTechniciens = ['Assili Nader', 'Sellami Aroua', 'Jarroudi Hassen', 'Nouri Meriem', 'Chakroun Hameyda'];\r\n  useEffect(() => {\r\n    // console.log(values.osoConclusion);\r\n    // console.log(values.osoConclusion);\r\n    const a1 = isArray(values.osoConclusion) ? values.osoConclusion : [];\r\n    const a2 = isArray(values.cardiaConclusion) ? values.cardiaConclusion : [];\r\n    const a3 = isArray(values.fundusConclusion) ? values.fundusConclusion : [];\r\n    const a4 = isArray(values.antreConclusion) ? values.antreConclusion : [];\r\n    const a5 = isArray(values.bulbeConclusion) ? values.bulbeConclusion : [];\r\n    const a6 = isArray(values.duodénumConclusion) ? values.duodénumConclusion : [];\r\n\r\n    const array = [\r\n      // { content: '- Conclusion Oseophage' },\r\n      ...a1,\r\n      // { content: '- Conclusion Cardia' },\r\n      ...a2,\r\n      // { content: '- Conclusion Fundus' },\r\n      ...a3,\r\n      // { content: '- Conclusion Pylore' },\r\n      ...a4,\r\n      // { content: '- Conclusion Bulbe' },\r\n      ...a5,\r\n      // { content: '- Conclusion Duodénum' },\r\n      ...a6\r\n    ];\r\n    let string = '';\r\n    array.forEach((e) => {\r\n      string += `${e.content}, \\n`;\r\n    });\r\n    setConclusionText(string);\r\n    setFieldValue('conclusion', string);\r\n  }, []);\r\n  const checkIfArrayHasValue = (array, value) => {\r\n    const index = array.findIndex((e) => e === value);\r\n    if (index > -1) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} md={12}>\r\n        <Card sx={{ p: 3 }}>\r\n          <Stack spacing={3}>\r\n            <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n              <ExploredItem noLabel=\"Non\" yesLabel=\"Oui\" formik={formik} field=\"FOGDtotale\" label=\"FOGD totale\" />\r\n              <TextField fullWidth label=\"Durée de l’examen endoscopique\" {...getFieldProps('duréeExamen')} />\r\n              <Typography style={{ marginLeft: '1vw' }}>\r\n                La durée d'exploration minimale recommandée est de 7 minutes\r\n              </Typography>\r\n              <ExploredItem\r\n                noLabel=\"Non\"\r\n                yesLabel=\"Oui\"\r\n                formik={formik}\r\n                field=\"chromoendoscopie\"\r\n                label=\"Chromoendoscopie vituelle ou au lugol\"\r\n              />\r\n              {values.chromoendoscopie && (\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Chromoendoscopie vituelle ou au lugol: pourquoi\"\r\n                  {...getFieldProps('chromoendoscopieDesc')}\r\n                />\r\n              )}\r\n              <ExploredItem noLabel=\"Non\" yesLabel=\"Oui\" formik={formik} field=\"biopsies\" label=\"Biopsies\" />\r\n              {values.biopsies && (\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Biopsies: nombre (), nombre de tubes ()\"\r\n                  {...getFieldProps('biopsiesDesc')}\r\n                />\r\n              )}\r\n              {/* TODO display all conclusion */}\r\n              <TextField\r\n                fullWidth\r\n                multiline\r\n                minRows={4}\r\n                label=\"Conclusion\"\r\n                {...getFieldProps('conclusion')}\r\n                value={conclusionText}\r\n                onChange={(e) => {\r\n                  setConclusionText(e.target.value);\r\n                  setFieldValue('conclusion', e.target.value);\r\n                }}\r\n              />\r\n              <TextField fullWidth multiline minRows={4} label=\"CAT\" {...getFieldProps('CAT')} />\r\n              <TextField fullWidth multiline minRows={4} label=\"Séniors\" {...getFieldProps('seniors')} />\r\n              <TextField fullWidth multiline minRows={4} label=\"Résidents\" {...getFieldProps('residents')} />\r\n              {/* <MultiSelect\r\n                label=\"Séniors\"\r\n                options={optionsSeniors}\r\n                setFieldValue={setFieldValue}\r\n                formikValue=\"seniors\"\r\n                limit={4}\r\n              />\r\n              {checkIfArrayHasValue(values.seniors, 'Autre') && (\r\n                <TextField fullWidth label=\"Autre sénior\" {...getFieldProps('autreSeniors')} />\r\n              )} */}\r\n              {/* <MultiSelect\r\n                label=\"Résidents\"\r\n                options={optionsResidents}\r\n                setFieldValue={setFieldValue}\r\n                formikValue=\"residents\"\r\n                limit={4}\r\n              />\r\n              {checkIfArrayHasValue(values.residents, 'Autre') && (\r\n                <TextField fullWidth label=\"Autre résident\" {...getFieldProps('autreResidents')} />\r\n              )} */}\r\n\r\n              {/* <MultiSelect\r\n                label=\"Techniciens\"\r\n                options={optionsTechniciens}\r\n                setFieldValue={setFieldValue}\r\n                formikValue=\"techniciens\"\r\n                limit={4}\r\n              /> */}\r\n              {/*   <TextField\r\n                fullWidth\r\n                multiline\r\n                minRows={4}\r\n                label=\"Ressenti du patient\"\r\n                {...getFieldProps('ressentiPatient')}\r\n              /> */}\r\n              {values.sédationExamen && (\r\n                <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <ExploredItem\r\n                    noLabel=\"Non\"\r\n                    yesLabel=\"Oui\"\r\n                    formik={formik}\r\n                    field=\"complicationSedation\"\r\n                    label=\"Complications de la sédation\"\r\n                  />\r\n                  {values.complicationSedation && (\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Complications de la sédation\"\r\n                      {...getFieldProps('complicationSedationDesc')}\r\n                    />\r\n                  )}\r\n                </Stack>\r\n              )}\r\n              <ExploredItem\r\n                noLabel=\"Non\"\r\n                yesLabel=\"Oui\"\r\n                formik={formik}\r\n                field=\"complicationEndo\"\r\n                label=\"Complications de l’examen endoscopique\"\r\n              />\r\n              {values.complicationEndo && (\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Complications de l’examen endoscopique\"\r\n                  {...getFieldProps('complicationEndoDesc')}\r\n                />\r\n              )}\r\n              <ExploredItem\r\n                noLabel=\"Non\"\r\n                yesLabel=\"Oui\"\r\n                formik={formik}\r\n                field=\"necessiteHospitalisation\"\r\n                label=\"Nécessité d’une hospitalisation pour surveillance\"\r\n              />\r\n            </Stack>\r\n          </Stack>\r\n        </Card>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/criterion.90f1b5a8.png\";","export default __webpack_public_path__ + \"static/media/gastro-oeso.f8f43182.jpg\";","export default __webpack_public_path__ + \"static/media/gov.4245fa0a.jpg\";","export default __webpack_public_path__ + \"static/media/paris.3118eae0.png\";","export default __webpack_public_path__ + \"static/media/prague.e0701ba3.jpg\";","export default __webpack_public_path__ + \"static/media/reflux.5874a640.jpg\";","export default __webpack_public_path__ + \"static/media/vo.6a39a017.png\";","export default __webpack_public_path__ + \"static/media/zargar.7faff877.png\";","export default __webpack_public_path__ + \"static/media/cancel.45577537.png\";","export default __webpack_public_path__ + \"static/media/A.0aaffdbc.png\";","export default __webpack_public_path__ + \"static/media/B.f4887fea.png\";","export default __webpack_public_path__ + \"static/media/C.4b5f8979.png\";","export default __webpack_public_path__ + \"static/media/D.6960f783.png\";","export default __webpack_public_path__ + \"static/media/checklist.93d5af21.jpg\";","import React, { useState, useEffect } from 'react';\r\nimport { Draggable } from 'react-beautiful-dnd';\r\nimport { Box, Button, Typography, TextField, Stack, ToggleButtonGroup, ToggleButton } from '@mui/material';\r\nimport { drop } from 'lodash';\r\n\r\nfunction Task({ task, index, onSaveTask, onDeleteTask, setFieldValue, formikValue }) {\r\n  // console.log('task', task);\r\n  const [text, setText] = useState('');\r\n  const [text2, setText2] = useState('');\r\n  const [dropDownValue, setDropDownValue] = useState('');\r\n  const [dropDownValue2, setDropDownValue2] = useState('');\r\n  const [choiceValue, setChoiceValue] = useState(false);\r\n  const [content, setContent] = useState(task.content);\r\n  const [firstPart, setFirstPart] = useState('');\r\n  const [secondPart, setSecondPart] = useState('');\r\n  const [displayFields, setDisplayFields] = useState(task.hasDropdown || task.hasTextField);\r\n\r\n  useEffect(() => {\r\n    if (task.hasDropdown) {\r\n      const part1 = content.split('(')[0];\r\n      const part2 = content.split(')')[1];\r\n      setFirstPart(part1);\r\n      setSecondPart(part2);\r\n    } else if (task.hasChoice) {\r\n      const part1 = content.split('(')[0];\r\n      const part2 = content.split(')')[1];\r\n      setFirstPart(part1);\r\n      setSecondPart(part2);\r\n    } else if (task.hasTextField) {\r\n      const part1 = content.split('(')[0];\r\n      const part2 = content.split(')')[1];\r\n      setFirstPart(part1);\r\n      setSecondPart(part2);\r\n    }\r\n  }, [task]);\r\n  // useEffect(() => {\r\n  //   if (task.hasChoice) {\r\n  //     const part1 = content.split('[')[0];\r\n  //     const part2 = content.split(']')[1];\r\n  //     setThirdPart(part1);\r\n  //     setForthPart(part2);\r\n  //   }\r\n  // }, [secondPart]);\r\n  function ExploredItem({ label, yesLabel, noLabel, choiceValue, setChoiceValue }) {\r\n    const handleChange = (event, checked) => {\r\n      setChoiceValue(checked);\r\n    };\r\n    return (\r\n      <>\r\n        <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n          {label && <Typography variant=\"h6\">{label}</Typography>}\r\n          <ToggleButtonGroup\r\n            name={label}\r\n            color=\"primary\"\r\n            value={choiceValue}\r\n            exclusive\r\n            onChange={handleChange}\r\n            aria-label=\"Platform\"\r\n          >\r\n            <ToggleButton value={false}>{noLabel}</ToggleButton>\r\n            <ToggleButton value>{yesLabel}</ToggleButton>\r\n          </ToggleButtonGroup>\r\n        </Stack>\r\n      </>\r\n    );\r\n  }\r\n  const getCustomTask = () => {\r\n    switch (task.customNb) {\r\n      case 1:\r\n        return (\r\n          <>\r\n            {displayFields ? (\r\n              <Box\r\n                sx={{\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                  justifyContent: 'space-around',\r\n                  flex: 1,\r\n                  alignItems: 'center'\r\n                }}\r\n              >\r\n                Varices oesophagiennes grade{' '}\r\n                <TextField\r\n                  select\r\n                  sx={{ width: '10vw' }}\r\n                  label={task.dropdownLabel}\r\n                  SelectProps={{ native: true }}\r\n                  value={dropDownValue}\r\n                  onChange={(e) => {\r\n                    console.log(e.target.value);\r\n                    setDropDownValue(e.target.value);\r\n                  }}\r\n                >\r\n                  <option key=\"0\" value=\"\" />\r\n                  {task.dropdownValues.map((option) => (\r\n                    <option key={option} value={option}>\r\n                      {option}\r\n                    </option>\r\n                  ))}\r\n                </TextField>\r\n                <ExploredItem\r\n                  formikValue={formikValue}\r\n                  setFieldValue={setFieldValue}\r\n                  label={undefined}\r\n                  yesLabel={task.yesLabel}\r\n                  noLabel={task.noLabel}\r\n                  choiceValue={choiceValue}\r\n                  setChoiceValue={setChoiceValue}\r\n                />\r\n                <Button\r\n                  onClick={() => {\r\n                    const choice = choiceValue ? task.yesLabel : task.noLabel;\r\n                    const newContent = `Varices oesophagiennes grade ${dropDownValue} ${choice}`;\r\n                    console.log(newContent);\r\n                    setContent(newContent);\r\n                    setDisplayFields(false);\r\n                    onSaveTask(index, newContent);\r\n                  }}\r\n                >\r\n                  <Typography>Enregister</Typography>\r\n                </Button>\r\n              </Box>\r\n            ) : (\r\n              content\r\n            )}\r\n          </>\r\n        );\r\n      case 2:\r\n        return (\r\n          <>\r\n            {displayFields ? (\r\n              <Box\r\n                sx={{\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                  justifyContent: 'space-around',\r\n                  flex: 1,\r\n                  alignItems: 'center'\r\n                }}\r\n              >\r\n                EBO classé C{' '}\r\n                <TextField\r\n                  label={task.textFieldLabel}\r\n                  sx={{ width: '5vw' }}\r\n                  value={text}\r\n                  onChange={(e) => {\r\n                    console.log('textField', e.target.value);\r\n                    task.textField = e.target.value;\r\n                    setText(e.target.value);\r\n                  }}\r\n                />\r\n                M{' '}\r\n                <TextField\r\n                  sx={{ width: '5vw' }}\r\n                  label={task.textFieldLabel2}\r\n                  value={text2}\r\n                  onChange={(e) => {\r\n                    console.log('textField2', e.target.value);\r\n                    task.textField2 = e.target.value;\r\n                    setText2(e.target.value);\r\n                  }}\r\n                />\r\n                Biopsies oesophagiennes selon le protocole de Seattle\r\n                <ExploredItem\r\n                  formikValue={formikValue}\r\n                  setFieldValue={setFieldValue}\r\n                  label={undefined}\r\n                  yesLabel={task.yesLabel}\r\n                  noLabel={task.noLabel}\r\n                  choiceValue={choiceValue}\r\n                  setChoiceValue={setChoiceValue}\r\n                />{' '}\r\n                <Button\r\n                  onClick={() => {\r\n                    const choice = choiceValue ? task.yesLabel : task.noLabel;\r\n                    const newContent = `EBO classé C${text} M${text2}, Biopsies oesophagiennes selon le protocole de Seattle ${choice}`;\r\n                    setContent(newContent);\r\n                    setDisplayFields(false);\r\n\r\n                    onSaveTask(index, newContent);\r\n                  }}\r\n                >\r\n                  <Typography>Enregister</Typography>\r\n                </Button>\r\n              </Box>\r\n            ) : (\r\n              content\r\n            )}\r\n          </>\r\n        );\r\n\r\n      default:\r\n        return <Typography>{content}</Typography>;\r\n    }\r\n  };\r\n  const getCustom = () => (\r\n    <Draggable draggableId={task.id} index={index}>\r\n      {(provided) => (\r\n        <Box\r\n          variant=\"contained\"\r\n          className=\"task\"\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n          ref={provided.innerRef}\r\n          sx={{ width: '100%', display: 'flex', justifyContent: 'space-between' }}\r\n        >\r\n          &#x2022; {getCustomTask()}\r\n          <Button\r\n            onClick={() => {\r\n              onDeleteTask(index);\r\n            }}\r\n          >\r\n            <Typography>Supprimer</Typography>\r\n          </Button>\r\n        </Box>\r\n      )}\r\n    </Draggable>\r\n  );\r\n\r\n  if (task.isCustom) {\r\n    return getCustom();\r\n  }\r\n\r\n  return (\r\n    <Draggable draggableId={task.id} index={index}>\r\n      {(provided) => (\r\n        <Box\r\n          variant=\"contained\"\r\n          className=\"task\"\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n          ref={provided.innerRef}\r\n          sx={{\r\n            width: '100%',\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            flexDirection: 'row',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <>\r\n            &#x2022;{' '}\r\n            {displayFields ? (\r\n              <>\r\n                {task.hasDropdown && (\r\n                  <>\r\n                    {firstPart}\r\n                    <TextField\r\n                      select\r\n                      sx={{ width: '10vw' }}\r\n                      label={task.dropdownLabel}\r\n                      SelectProps={{ native: true }}\r\n                      value={dropDownValue}\r\n                      onChange={(e) => {\r\n                        console.log(e.target.value);\r\n                        setDropDownValue(e.target.value);\r\n                      }}\r\n                    >\r\n                      <option key=\"0\" value=\"\" />\r\n                      {task.dropdownValues.map((option) => (\r\n                        <option key={option} value={option}>\r\n                          {option}\r\n                        </option>\r\n                      ))}\r\n                    </TextField>\r\n                    {secondPart}\r\n                  </>\r\n                )}\r\n                {task?.hasSecondDropdown && (\r\n                  <>\r\n                    et\r\n                    <TextField\r\n                      select\r\n                      sx={{ width: '10vw' }}\r\n                      label={task.dropdownLabel}\r\n                      SelectProps={{ native: true }}\r\n                      value={dropDownValue2}\r\n                      onChange={(e) => {\r\n                        console.log(e.target.value);\r\n                        setDropDownValue2(e.target.value);\r\n                      }}\r\n                    >\r\n                      <option key=\"0\" value=\"\" />\r\n                      {task.dropdownValues.map((option) => (\r\n                        <option key={option} value={option}>\r\n                          {option}\r\n                        </option>\r\n                      ))}\r\n                    </TextField>\r\n                    {secondPart}\r\n                  </>\r\n                )}\r\n                {task.hasChoice && (\r\n                  <>\r\n                    {firstPart}\r\n                    <ExploredItem\r\n                      formikValue={formikValue}\r\n                      setFieldValue={setFieldValue}\r\n                      label={undefined}\r\n                      yesLabel={task.yesLabel}\r\n                      noLabel={task.noLabel}\r\n                    />\r\n                    {secondPart}\r\n                  </>\r\n                )}\r\n                {task.hasTextField && (\r\n                  <>\r\n                    {firstPart}\r\n                    <TextField\r\n                      label={task.textFieldLabel}\r\n                      value={text}\r\n                      onChange={(e) => {\r\n                        console.log('textField', e.target.value);\r\n                        task.textField = e.target.value;\r\n                        setText(e.target.value);\r\n                      }}\r\n                    />\r\n                    {secondPart}\r\n                  </>\r\n                )}\r\n                <Button\r\n                  onClick={() => {\r\n                    if (task.hasDropdown) {\r\n                      // let string = '';\r\n                      // task.dropdownValues.forEach((element) => {\r\n                      //   if (string !== '') {\r\n                      //     string = `${string}/${element}`;\r\n                      //   } else string = element;\r\n                      // });\r\n                      // console.log('string', string);\r\n                      // console.log('find', content.includes(string));\r\n                      // const newContent = content.replace(string, dropDownValue);\r\n                      // setContent(newContent.replace('(', '').replace(')', ''));\r\n                      // console.log('content', newContent);\r\n                      let newContent = `${firstPart} ${dropDownValue} ${secondPart}`;\r\n                      if (task?.hasSecondDropdown) {\r\n                        newContent = `${firstPart} ${dropDownValue} et ${dropDownValue2} ${secondPart}`;\r\n                      }\r\n                      setContent(newContent);\r\n                      onSaveTask(index, newContent);\r\n                    } else if (task.hasChoice) {\r\n                      const newContent = `${firstPart} ${choiceValue} ${secondPart}`;\r\n                      setContent(newContent);\r\n                      onSaveTask(index, newContent);\r\n                    } else if (task.hasTextField) {\r\n                      const newContent = `${firstPart} ${text} ${secondPart}`;\r\n                      setContent(newContent);\r\n                      onSaveTask(index, newContent);\r\n                    }\r\n\r\n                    setDisplayFields(false);\r\n                  }}\r\n                >\r\n                  <Typography>Enregister</Typography>\r\n                </Button>\r\n              </>\r\n            ) : (\r\n              content\r\n            )}\r\n            <Button\r\n              onClick={() => {\r\n                onDeleteTask(index);\r\n              }}\r\n            >\r\n              <Typography>Supprimer</Typography>\r\n            </Button>\r\n          </>\r\n        </Box>\r\n      )}\r\n    </Draggable>\r\n  );\r\n}\r\n\r\nexport default Task;\r\n","import React from 'react';\r\nimport { Droppable } from 'react-beautiful-dnd';\r\nimport Task from './Task';\r\n\r\nfunction TaskList({ tasks, onDeleteTask, onSaveTask, setFieldValue, formikValue }) {\r\n  return (\r\n    <Droppable droppableId=\"task-list\">\r\n      {(provided) => (\r\n        <div\r\n          {...provided.droppableProps}\r\n          ref={provided.innerRef}\r\n          style={{ display: 'flex', flexDirection: 'column', width: '100%' }}\r\n        >\r\n          {tasks.map((task, index) => (\r\n            <Task\r\n              key={task.id}\r\n              task={task}\r\n              index={index}\r\n              onDeleteTask={onDeleteTask}\r\n              onSaveTask={onSaveTask}\r\n              setFieldValue={setFieldValue}\r\n              formikValue={formikValue}\r\n            />\r\n          ))}\r\n          {provided.placeholder}\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  );\r\n}\r\n\r\nexport default TaskList;\r\n","import React, { useState, useRef } from 'react';\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\nimport {\r\n  Chip,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  TextField,\r\n  Typography,\r\n  Box,\r\n  ToggleButton,\r\n  ToggleButtonGroup,\r\n  FormControlLabel,\r\n  Switch,\r\n  DatePicker,\r\n  Select,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  MenuItem,\r\n  Autocomplete\r\n} from '@mui/material';\r\nimport TaskList from './TaskList';\r\n\r\nconst ConclusionGenerator = ({ options, setFieldValue, formikValue }) => {\r\n  const autocRef = useRef();\r\n  const [tasks, setTasks] = useState([]);\r\n  const [text, setText] = useState('');\r\n\r\n  const onDeleteTask = (index) => {\r\n    const newTasks = Array.from(tasks);\r\n    newTasks.splice(index, 1);\r\n    setTasks(newTasks);\r\n  };\r\n  function onDragEnd(result) {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    const newTasks = Array.from(tasks);\r\n    const [removed] = newTasks.splice(result.source.index, 1);\r\n    newTasks.splice(result.destination.index, 0, removed);\r\n    setTasks(newTasks);\r\n  }\r\n  function handleSubmitForm() {\r\n    console.log('submit', text);\r\n    if (text.trim().length === 0 || tasks.find((t) => t.content === text)) {\r\n      return;\r\n    }\r\n    const task = options.find((e) => e.label === text);\r\n    // props.onSubmit(text);\r\n    const newTasks = Array.from(tasks);\r\n    if (task) {\r\n      newTasks.push({ id: task.id.toString(), content: task.label, ...task });\r\n    } else {\r\n      newTasks.push({ id: Math.random().toFixed(3).toString(), content: text });\r\n    }\r\n    setTasks(newTasks);\r\n    setText('');\r\n  }\r\n  const onSaveTask = (index, content) => {\r\n    const newTasks = Array.from(tasks);\r\n    newTasks[index].content = content;\r\n    setTasks(newTasks);\r\n    setFieldValue(formikValue, newTasks);\r\n  };\r\n  const onSaveConclusion = () => {\r\n    setFieldValue(formikValue, tasks);\r\n    console.log('saved tasks', tasks);\r\n  };\r\n  return (\r\n    <>\r\n      <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n        <Autocomplete\r\n          ref={autocRef}\r\n          // disablePortal\r\n          // freeSolo\r\n          id=\"combo-box-demo\"\r\n          options={options}\r\n          sx={{ width: '60%' }}\r\n          inputValue={text}\r\n          value={text}\r\n          onChange={(e) => {\r\n            if (!e.target.innerHTML.includes('<path')) {\r\n              console.log('autoc', e.target.innerHTML);\r\n              setText(e.target.innerHTML);\r\n            } else {\r\n              setText('');\r\n            }\r\n          }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label=\"Conclusion\"\r\n              value={text}\r\n              setFieldValue={setFieldValue}\r\n              formikValue={formikValue}\r\n              onChange={(e) => {\r\n                console.log('textField', e.target.value);\r\n                setText(e.target.value);\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n        <Button variant=\"contained\" onClick={(e) => handleSubmitForm(e)}>\r\n          <Typography>Ajouter</Typography>\r\n        </Button>\r\n      </Stack>\r\n      <DragDropContext onDragEnd={(result) => onDragEnd(result)}>\r\n        <TaskList tasks={tasks} onDeleteTask={onDeleteTask} onSaveTask={onSaveTask} />\r\n      </DragDropContext>\r\n      <Button variant=\"contained\" onClick={() => onSaveConclusion()} sx={{ width: '30%' }}>\r\n        <Typography>Enregister la conclusion</Typography>\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConclusionGenerator;\r\n","/* eslint-disable */\r\nimport PropTypes from 'prop-types';\r\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport moment from 'moment/moment';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ReactModal from 'react-modal';\r\nimport Image from 'mui-image';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\n// material\r\nimport {\r\n  Chip,\r\n  Card,\r\n  Grid,\r\n  Stack,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  TextField,\r\n  Typography,\r\n  Box,\r\n  ToggleButton,\r\n  ToggleButtonGroup,\r\n  FormControlLabel,\r\n  Switch,\r\n  DatePicker,\r\n  Select,\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  OutlinedInput,\r\n  MenuItem,\r\n  Autocomplete\r\n} from '@mui/material';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { DragDropContext } from 'react-beautiful-dnd';\r\nimport { DateTimePicker, MobileDateTimePicker, DesktopDateTimePicker } from '@mui/lab';\r\nimport dayjs from 'dayjs';\r\n// import Style from './Modal.module.css';\r\nimport Criterion from '../../../../assets/examen/criterion.png';\r\nimport Forrest from '../../../../assets/examen/forrest.png';\r\nimport Gastrooeso from '../../../../assets/examen/gastro-oeso.jpg';\r\nimport Gov from '../../../../assets/examen/gov.jpg';\r\nimport Paris from '../../../../assets/examen/paris.png';\r\nimport Prague from '../../../../assets/examen/prague.jpg';\r\nimport Reflux from '../../../../assets/examen/reflux.jpg';\r\nimport VO from '../../../../assets/examen/vo.png';\r\nimport Zargar from '../../../../assets/examen/zargar.png';\r\nimport Cancel from '../../../../assets/examen/cancel.png';\r\nimport A from '../../../../assets/examen/A.png';\r\nimport B from '../../../../assets/examen/B.png';\r\nimport C from '../../../../assets/examen/C.png';\r\nimport D from '../../../../assets/examen/D.png';\r\nimport checklist from '../../../../assets/examen/checklist.jpg';\r\n// utils\r\nimport fakeRequest from '../../../../utils/fakeRequest';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../../routes/paths';\r\nimport { UploadMultiFile } from '../../../../components/upload';\r\nimport ConclusionGenerator from './ConclusionGenerator';\r\nimport MultiSelect from './MultiSelect';\r\n\r\n//\r\n// ----------------------------------------------------------------------\r\n\r\nExploredItem.propTypes = {\r\n  label: PropTypes.string,\r\n  formik: PropTypes.object\r\n};\r\nfunction ExploredItem({ label, field, formik, yesLabel, noLabel }) {\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n  const [isChecked, setIsChecked] = useState(false);\r\n\r\n  const handleChange = (event, checked) => {\r\n    setIsChecked(checked);\r\n    setFieldValue(field, checked, false);\r\n  };\r\n  return (\r\n    <>\r\n      <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n        <Typography variant=\"h6\">{label}</Typography>\r\n        <ToggleButtonGroup\r\n          name={field}\r\n          color=\"primary\"\r\n          value={isChecked}\r\n          exclusive\r\n          onChange={handleChange}\r\n          aria-label=\"Platform\"\r\n        >\r\n          <ToggleButton value={false}>{noLabel}</ToggleButton>\r\n          <ToggleButton value>{yesLabel}</ToggleButton>\r\n        </ToggleButtonGroup>\r\n      </Stack>\r\n    </>\r\n  );\r\n}\r\nUserNewForm.propTypes = {\r\n  isEdit: PropTypes.bool,\r\n  formik: PropTypes.object\r\n};\r\nconst zones = [\r\n  'Œsophage supérieur',\r\n  'Œsophage inférieur',\r\n  'Ligne Z et sommet des plis gastriques',\r\n  'Cardia, fundus et la petite courbure en rétroversion',\r\n  'Corps gastrique avec la petite courbure en vision directe',\r\n  'Corps gastrique avec la grande courbure en rétrovision',\r\n  'Antre',\r\n  'L’angle de la petite courbure en rétrovision partielle',\r\n  'Bulbe',\r\n  'Deuxième duodénum'\r\n];\r\nconst endoscopes = [\r\n  '1- Olympus GIF-Q150 2206251',\r\n  '2- Olympus GIF-Q150 2620604',\r\n  '3- Olympus GIF-H180',\r\n  '4- Olympus GIF-H170 (EXERA III)',\r\n  '5- FUJINON SN7G361K493'\r\n];\r\nconst autresMateriels = [\r\n  'Clips d’hémostase',\r\n  'Kit de ligature élastique des varices oesophagiennes',\r\n  'Aiguille d’injection',\r\n  'Pince froide',\r\n  'Pince chaude',\r\n  'Pince à usage unique',\r\n  'Pince à usage multiple',\r\n  'Anse à polypectomie à panier de type Dormia',\r\n  'Argon/sonde d’électrocoagulation',\r\n  'Autres'\r\n];\r\nconst optionsOesophage = [\r\n  { id: '1', label: 'Aspect d’acanthose glycogénique de l’œsophage' },\r\n  {\r\n    id: '2',\r\n    label: 'Oesophagite caustique grade (0/I/IIA/IIB/IIIA/IIIB/IV) selon la classification de Zargar ',\r\n    hasDropdown: true,\r\n    dropdownValues: ['0', 'I', 'IIA', 'IIB', 'IIIA', 'IIIB', 'IV'],\r\n    dropdownLabel: 'Grade'\r\n  },\r\n  {\r\n    id: '3',\r\n    label: 'Oesophagite grade (A/B/C/D) selon la classification de Los Angeles',\r\n    hasDropdown: true,\r\n    dropdownValues: ['A', 'B', 'C', 'D'],\r\n    dropdownLabel: 'Grade'\r\n  },\r\n  { id: '7', label: 'Oesophagite mycotique ' },\r\n  {\r\n    id: '4',\r\n    label: 'Varices oesophagiennes grade (I/II/III) [sans signes rouges/avec signes rouges]',\r\n    hasDropdown: true,\r\n    dropdownValues: ['I', 'II', 'III'],\r\n    dropdownLabel: 'Grade',\r\n    hasChoice: true,\r\n    yesLabel: 'sans signes rouges',\r\n    noLabel: 'avec signes rouges',\r\n    isCustom: true,\r\n    customNb: 1\r\n  },\r\n  {\r\n    id: '5',\r\n    label:\r\n      'EBO classé C(chiffre)M(chiffre) selon la classification de Prague, Biopsies oesophagiennes selon le protocole de Seattle [oui/non]',\r\n    hasTextField: true,\r\n    textFieldLabel: 'C',\r\n    textField: '',\r\n    hasTextField2: true,\r\n    textFieldLabel2: 'M',\r\n    textField2: '',\r\n    hasChoice: true,\r\n    yesLabel: 'Oui',\r\n    noLabel: 'Non',\r\n    isCustom: true,\r\n    customNb: 2\r\n  },\r\n  {\r\n    id: '6',\r\n    label: 'Processus ulcéro-bourgeonnant de l’œsophage (supérieur, moyen, inférieur) ',\r\n    hasDropdown: true,\r\n    dropdownValues: ['supérieur', 'moyen', 'inférieur'],\r\n    dropdownLabel: 'Localisation'\r\n  }\r\n];\r\nconst optionsCardia = [\r\n  {\r\n    id: '1',\r\n    label: 'Hernie hiatale par (glissement/roulement)',\r\n    hasDropdown: true,\r\n    dropdownValues: ['glissement', 'roulement'],\r\n    dropdownLabel: 'Type'\r\n  }\r\n];\r\nconst optionsFundus = [\r\n  { id: '1', label: 'Aspect de métaplasie intestinale gastrique' },\r\n  {\r\n    id: '2',\r\n    label: 'Gastropathie fundique (en mosaïque/congestive/nodulaire/ulcérée/érosive/varioloforme/atrophique)',\r\n    hasDropdown: true,\r\n    dropdownValues: ['en mosaïque', 'congestive', 'nodulaire', 'ulcérée', 'érosive', 'varioloforme', 'atrophique'],\r\n    dropdownLabel: 'Description'\r\n  },\r\n  {\r\n    id: '3',\r\n    label: 'Ulcère fundique'\r\n  },\r\n  {\r\n    id: '4',\r\n    label: 'Aspect de gros plis fundique'\r\n  },\r\n  {\r\n    id: '5',\r\n    label: 'Aspect de compression extrinsèque'\r\n  },\r\n  {\r\n    id: '6',\r\n    label: 'Formation d’allure sous-muqueuse fundique'\r\n  },\r\n  {\r\n    id: '7',\r\n    label: 'Polype fundique classé () selon la classification de Paris ',\r\n    hasTextField: true,\r\n    textFieldLabel: 'Classe'\r\n  },\r\n  {\r\n    id: '8',\r\n    label: 'Processus ulcéro-bourgeonnant fundique'\r\n  },\r\n  {\r\n    id: '9',\r\n    label: 'Varice gastrique type (GOV 1/GOV 2/IGV 1)',\r\n    hasDropdown: true,\r\n    dropdownValues: ['GOV 1', 'GOV 2', 'IGV 1'],\r\n    dropdownLabel: 'Type'\r\n  }\r\n];\r\nconst optionsAntre = [\r\n  { id: '1', label: 'Aspect de métaplasie intestinale gastrique, Biopsies' },\r\n  {\r\n    id: '2',\r\n    label: 'Gastropathie antrale (en mosaïque,congestive,nodulaire,ulcérée,érosive,varioloforme,atrophique)',\r\n    hasDropdown: true,\r\n    dropdownValues: ['en mosaïque', 'congestive', 'nodulaire', 'ulcérée', 'erosive', 'varioloforme', 'atrophique'],\r\n    dropdownLabel: 'Description',\r\n    hasSecondDropdown: true\r\n  },\r\n  {\r\n    id: '3',\r\n    label: 'Ulcère antral'\r\n  },\r\n  {\r\n    id: '4',\r\n    label: 'Aspect de gros (plis antraux/pré pyloriques)',\r\n\r\n    hasDropdown: true,\r\n    dropdownValues: ['plis antraux', 'pré pyloriques'],\r\n    dropdownLabel: 'Description'\r\n  },\r\n  {\r\n    id: '5',\r\n    label: 'Aspect de compression extrinsèque'\r\n  },\r\n  {\r\n    id: '6',\r\n    label: 'Formation d’allure sous-muqueuse antrale'\r\n  },\r\n  {\r\n    id: '7',\r\n    label: 'Polype antral classé () selon la classification de Paris ',\r\n    hasTextField: true,\r\n    textFieldLabel: 'Classe'\r\n  },\r\n  {\r\n    id: '8',\r\n    label: 'Processus ulcéro-bourgeonnant antral'\r\n  },\r\n  {\r\n    id: '9',\r\n    label: 'Varice gastrique type IGV 2'\r\n  }\r\n];\r\nconst optionsBulbe = [\r\n  { id: '1', label: 'Ulcère évolutif du bulbe' },\r\n  {\r\n    id: '2',\r\n    label: 'Bulbe déformé cicatriciel'\r\n  },\r\n  {\r\n    id: '3',\r\n    label: 'Bulbe atrophique'\r\n  },\r\n  {\r\n    id: '4',\r\n    label: 'Bulbite congestive'\r\n  }\r\n];\r\nconst optionsDuodénum = [\r\n  {\r\n    id: '1',\r\n    label: 'Aspect (en mosaïque/nodulaire/blanchâtre) de la muqueuse duodénale',\r\n    hasDropdown: true,\r\n    dropdownValues: ['en mosaïque', 'nodulaire', 'blanchâtre'],\r\n    dropdownLabel: 'Description'\r\n  },\r\n  {\r\n    id: '2',\r\n    label: 'Aspect d’atrophie duodénale'\r\n  },\r\n  {\r\n    id: '3',\r\n    label: 'Aspect déchiqueté et atrophique des plis duodénaux'\r\n  },\r\n  {\r\n    id: '4',\r\n    label: 'Grosse papille'\r\n  },\r\n  {\r\n    id: '5',\r\n    label: 'Processus ulcéro-bourgeonnant duodénal '\r\n  },\r\n  {\r\n    id: '6',\r\n    label: 'Aspect de lymphangiectasies duodénales'\r\n  }\r\n];\r\nconst scores = [\r\n  { label: 'A: Absence de mucus', value: 'A' },\r\n  { label: 'B: Faible quantité de mucus', value: 'B' },\r\n  { label: 'C: Mucus qui nécessite moins de 50 ml pou d’eau pour être lavé', value: 'C' },\r\n  { label: 'D: Mucus qui nécessite plus de 50 ml d’eau pour être lavé', value: 'D' }\r\n];\r\n\r\nexport default function UserNewForm({ isEdit, formik }) {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [modalNumber, setModalNumber] = useState(0);\r\n  function displayModal(number) {\r\n    setModalNumber(number);\r\n    setModalVisible(true);\r\n  }\r\n  const [preview, setPreview] = useState(true);\r\n  const [files, setFiles] = useState([]);\r\n  // const [date, setDate] = React.useState(dayjs('2022-04-17T15:30'));\r\n  const [date, setDate] = React.useState(new Date());\r\n  const reader = new FileReader();\r\n  const checkIndiction = (isThérapeutique, i) => {\r\n    if (isThérapeutique) {\r\n      const index = values.thérapeutiqueIndex.findIndex((e) => e === i);\r\n      if (index > -1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    } else {\r\n      const index = values.diagnostiqueIndex.findIndex((e) => e === i);\r\n      if (index > -1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleDropMultiFile = useCallback(\r\n    (acceptedFiles) => {\r\n      // setFiles(\r\n      acceptedFiles.forEach((f, i) => {\r\n        console.log(f);\r\n\r\n        // reader.onloadend = function () {\r\n        //   // console.log('RESULT', reader.result);\r\n        //   return Object.assign(f, {\r\n        //     preview: URL.createObjectURL(f),\r\n        //     result: reader.result\r\n        //   });\r\n        //   //  return reader.result;\r\n        // };\r\n        if (i === 0) {\r\n          // const a = [...files];\r\n          // a.push(\r\n          //   Object.assign(f, {\r\n          //     preview: URL.createObjectURL(f)\r\n          //     // result: reader?.result?.split(',')[1] ?? ''\r\n          //   })\r\n          // );\r\n          // setFiles(a);\r\n          reader.onload = function () {\r\n            // console.log('RESULT', reader.result);\r\n            console.log('FILES HERE', files);\r\n            const a = [...files];\r\n            a.push(\r\n              Object.assign(f, {\r\n                preview: URL.createObjectURL(f),\r\n                result: reader.result // dataURLtoBlob(reader.result)\r\n                // blob: window.dataURLtoBlob(reader.result)\r\n              })\r\n            );\r\n            setFiles(a);\r\n\r\n            // dataURLtoBlob(reader.result, function (blob) {\r\n            //   console.log(blob);\r\n            // });\r\n            //  return reader.result;\r\n          };\r\n          reader.readAsDataURL(f);\r\n        }\r\n        // return Object.assign(f, {\r\n        //   preview: URL.createObjectURL(f)\r\n        // });\r\n      });\r\n      // );\r\n    },\r\n    [setFiles, files]\r\n  );\r\n\r\n  const getScoreQV = () => {\r\n    const getScore = (value) => {\r\n      switch (value) {\r\n        case 'A':\r\n          return 1;\r\n        case 'B':\r\n          return 2;\r\n        case 'C':\r\n          return 3;\r\n        case 'D':\r\n          return 4;\r\n        default:\r\n          return 0;\r\n      }\r\n    };\r\n    if (values.qvFundus && values.qvPartieSup && values.qvPartieInf && values.qvAntre)\r\n      return (\r\n        getScore(values.qvFundus) +\r\n        getScore(values.qvPartieSup) +\r\n        getScore(values.qvPartieInf) +\r\n        getScore(values.qvAntre)\r\n      );\r\n  };\r\n  useEffect(() => {\r\n    if (files) {\r\n      // console.log('Files', files);\r\n      const array = [];\r\n      files.forEach((e) => {\r\n        // console.log('f', e.result);\r\n        if (e.result) {\r\n          array.push(e.result.split(',')[1]);\r\n        }\r\n      });\r\n      // console.log('array', array);\r\n      setFieldValue('images', array);\r\n    }\r\n  }, [files]);\r\n\r\n  const handleRemoveAll = () => {\r\n    setFiles([]);\r\n  };\r\n\r\n  const handleRemove = (file) => {\r\n    const filteredItems = files.filter((_file) => _file !== file);\r\n    setFiles(filteredItems);\r\n  };\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n  const modalViewStyle = { display: 'flex', justifyContent: 'center', marginTop: '40px', alignItems: 'center' };\r\n  function getModalContent() {\r\n    switch (modalNumber) {\r\n      case 0:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={VO} height=\"40vh\" fit=\"contain\" alt=\"vo\" />\r\n          </Stack>\r\n        );\r\n      case 1:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Prague} width=\"50vw\" fit=\"contain\" alt=\"prague\" />\r\n          </Stack>\r\n        );\r\n      case 2:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Reflux} width=\"50vw\" fit=\"contain\" alt=\"reflux\" />\r\n          </Stack>\r\n        );\r\n      case 3:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Zargar} height=\"40vh\" fit=\"contain\" alt=\"zargar\" />\r\n          </Stack>\r\n        );\r\n      case 4:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Gastrooeso} width=\"40vw\" fit=\"contain\" alt=\"Gastrooeso\" />\r\n          </Stack>\r\n        );\r\n      case 5:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Paris} width=\"40vw\" fit=\"contain\" alt=\"Paris\" />\r\n          </Stack>\r\n        );\r\n      case 6:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Gov} width=\"40vw\" fit=\"contain\" alt=\"Gov\" />\r\n          </Stack>\r\n        );\r\n      case 7:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Forrest} width=\"40vw\" fit=\"contain\" alt=\"forrest\" />\r\n          </Stack>\r\n        );\r\n      case 8:\r\n        return (\r\n          <Stack\r\n            direction={{ xs: 'column' }}\r\n            sx={modalViewStyle}\r\n            // spacing={{ xs: 3, sm: 2 }}\r\n          >\r\n            <Image src={Criterion} width=\"40vw\" fit=\"contain\" alt=\"Criterion\" />\r\n          </Stack>\r\n        );\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  const isModalWide = modalNumber === 1 || modalNumber === 2 || modalNumber === 4;\r\n\r\n  const [tasks, setTasks] = useState([]);\r\n  const onDeleteTask = (index) => {\r\n    const newTasks = Array.from(tasks);\r\n    newTasks.splice(index, 1);\r\n    setTasks(newTasks);\r\n  };\r\n  function onDragEnd(result) {\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n\r\n    const newTasks = Array.from(tasks);\r\n    const [removed] = newTasks.splice(result.source.index, 1);\r\n    newTasks.splice(result.destination.index, 0, removed);\r\n\r\n    setTasks(newTasks);\r\n  }\r\n  const [text, setText] = useState('');\r\n  const autocRef = useRef();\r\n  function handleSubmitForm() {\r\n    console.log('submit', text);\r\n    if (text.trim().length === 0 || tasks.find((t) => t.content === text)) {\r\n      return;\r\n    }\r\n    const task = optionsFundus.find((e) => e.label === text);\r\n\r\n    // props.onSubmit(text);\r\n    const newTasks = Array.from(tasks);\r\n    if (task) {\r\n      newTasks.push({ id: task.id.toString(), content: task.label, ...task });\r\n    } else {\r\n      newTasks.push({ id: Math.random().toFixed(3).toString(), content: text });\r\n    }\r\n    setTasks(newTasks);\r\n    setText('');\r\n  }\r\n  const onSaveTask = (index, content) => {\r\n    const newTasks = Array.from(tasks);\r\n    newTasks[index].content = content;\r\n    setTasks(newTasks);\r\n  };\r\n  console.log('tasks', tasks);\r\n\r\n  return (\r\n    <>\r\n      <ReactModal\r\n        shouldCloseOnOverlayClick\r\n        isOpen={modalVisible}\r\n        onRequestClose={() => setModalVisible(false)}\r\n        // className=\"Modal\"\r\n        // overlayClassName=\"Overlay\"\r\n        style={{\r\n          content: {\r\n            // height: '80vh',\r\n            // eslint-disable-next-line\r\n            width: isModalWide\r\n              ? '55vw'\r\n              : modalNumber === 5 || modalNumber === 6 || modalNumber === 7 || modalNumber === 8\r\n              ? '45vw'\r\n              : '40vw',\r\n            top: isModalWide ? '15%' : '20%',\r\n            left: isModalWide ? '25%' : '30%',\r\n            // right: '40%',\r\n            // marginRight: '-50%',\r\n            // transform: 'translate(-50%, 37%)',\r\n            position: 'sticky'\r\n          },\r\n          overlay: {\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            backgroundColor: 'transparent',\r\n            height: '100vh',\r\n            width: '100vw'\r\n          }\r\n          // content: { height: '100%', width: '100%' }\r\n        }}\r\n      >\r\n        <Button title=\"Close\" onClick={() => setModalVisible(false)} sx={{ position: 'absolute', right: 0, top: 0 }}>\r\n          {/* <Typography>Close</Typography> */}\r\n          <img src={Cancel} height=\"40px\" width=\"40px\" alt=\"close\" />\r\n        </Button>\r\n        {getModalContent()}\r\n      </ReactModal>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={12}>\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Avant Examen</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                <ExploredItem\r\n                  noLabel=\"Non\"\r\n                  yesLabel=\"Oui\"\r\n                  formik={formik}\r\n                  field=\"examenPhysiqueInterrogatoire\"\r\n                  label=\"Examen physique et interrogatoire \"\r\n                />\r\n                {/*  <TextField\r\n                  fullWidth\r\n                  multiline\r\n                  label=\"Délai entre la demande de l’examen et sa réalisation \"\r\n                  {...getFieldProps('délaiExamen')}\r\n                /> */}\r\n                <MobileDateTimePicker\r\n                  label=\"Date et heure de l'examen\"\r\n                  value={date}\r\n                  onChange={(newDate) => {\r\n                    console.log('newDate', moment(newDate).format('DD-MM-YYYY HH:MM'));\r\n                    setDate(moment(newDate));\r\n                    setFieldValue('dateExamen', moment(newDate).format('DD-MM-YYYY HH:MM'));\r\n                  }}\r\n                  renderInput={(params) => <TextField {...params} />}\r\n                />\r\n                <ExploredItem\r\n                  noLabel=\"Non\"\r\n                  yesLabel=\"Oui\"\r\n                  formik={formik}\r\n                  field=\"prémédicationIndication\"\r\n                  label=\"Pré médication\"\r\n                />\r\n                {/*\r\n                {values.prémédicationIndication && (\r\n                  <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <TextField fullWidth label=\"Pré médication\" {...getFieldProps('prémédicationIndicationDesc')} />\r\n                  </Stack>\r\n                )} */}\r\n                <ExploredItem\r\n                  noLabel=\"Non\"\r\n                  yesLabel=\"Oui\"\r\n                  formik={formik}\r\n                  field=\"consoTabacAvantExamen\"\r\n                  label=\"Patient ayant reçu les instructions appropriées du jeûne\"\r\n                />\r\n                <ExploredItem\r\n                  noLabel=\"Non\"\r\n                  yesLabel=\"Oui\"\r\n                  formik={formik}\r\n                  field=\"jeuneExamen\"\r\n                  label=\"Patient à jeûne\"\r\n                />\r\n                {/* {values.jeuneExamen && (\r\n                <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Depuis combien d'heures pour les solides\"\r\n                    {...getFieldProps('duréeJeuneSolide')}\r\n                  />\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\"Depuis combien d'heures pour les liquides\"\r\n                    {...getFieldProps('duréeJeuneLiquide')}\r\n                  />\r\n                </Stack>\r\n              )} */}\r\n\r\n                <ExploredItem\r\n                  noLabel=\"Non\"\r\n                  yesLabel=\"Oui\"\r\n                  formik={formik}\r\n                  field=\"sédationExamen\"\r\n                  label=\"Sous sédation\"\r\n                />\r\n                {values.sédationExamen && (\r\n                  <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Protocole de la sédation\"\r\n                      {...getFieldProps('protocoleAvantSédation')}\r\n                    />\r\n                    <ExploredItem\r\n                      noLabel=\"Sans anomalies\"\r\n                      yesLabel=\"Avec anomalies\"\r\n                      formik={formik}\r\n                      field=\"anomaliesAvantSédation\"\r\n                      label=\"Examen avant sédation\"\r\n                    />\r\n                    {values.anomaliesAvantSédation && (\r\n                      <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Les anomalies à l'examen\"\r\n                          {...getFieldProps('anomaliesAvantSédationDesc')}\r\n                        />\r\n                      </Stack>\r\n                    )}\r\n                  </Stack>\r\n                )}\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Matériel</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3 }}>\r\n                <TextField\r\n                  select\r\n                  fullWidth\r\n                  {...getFieldProps('endoscope')}\r\n                  SelectProps={{ native: true }}\r\n                  label=\"L'endoscope\"\r\n                >\r\n                  <option key=\"0\" value=\"\" />\r\n                  {endoscopes.map((option) => (\r\n                    <option key={option} value={option}>\r\n                      {option}\r\n                    </option>\r\n                  ))}\r\n                </TextField>\r\n                {/* <ExploredItem noLabel=\"Non\" yesLabel=\"Oui\" formik={formik} field=\"pince\" label=\"Pince\" />\r\n                {values.pince && (\r\n                  <ExploredItem noLabel=\"Unique\" yesLabel=\"Multiple\" formik={formik} field=\"usagePince\" label=\"Usage\" />\r\n                )} */}\r\n                {/* <TextField\r\n                  select\r\n                  fullWidth\r\n                  label=\"Autres Materiels\"\r\n                  SelectProps={{ native: true }}\r\n                  {...getFieldProps('autresMateriels')}\r\n                >\r\n                  <option key=\"0\" value=\"\" />\r\n                  {.map((option) => (\r\n                    <option key={option} value={option}>\r\n                      {option}\r\n                    </option>\r\n                  ))}\r\n                </TextField> */}\r\n\r\n                <MultiSelect\r\n                  label=\"Autres Materiels\"\r\n                  options={autresMateriels}\r\n                  formikValue=\"autresMateriels\"\r\n                  setFieldValue={setFieldValue}\r\n                />\r\n\r\n                {values.autresMateriels.includes('Autres') && (\r\n                  <TextField fullWidth label=\"Autres\" {...getFieldProps('autresMaterielsDesc')} />\r\n                )}\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Examen</Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                <ExploredItem\r\n                  noLabel=\"Non exploré\"\r\n                  yesLabel=\"Exploré\"\r\n                  formik={formik}\r\n                  field=\"osophage\"\r\n                  label=\"Œsophage\"\r\n                />\r\n                {values.osophage && (\r\n                  <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <ExploredItem\r\n                      noLabel=\"Non\"\r\n                      yesLabel=\"Oui\"\r\n                      formik={formik}\r\n                      field=\"osoNormal\"\r\n                      label=\"Aspect endoscopique normal\"\r\n                    />\r\n                    {!values.osoNormal && (\r\n                      <TextField fullWidth label=\"Exploration de l'Œsophage\" {...getFieldProps('osophageDesc')} />\r\n                    )}\r\n                    <ExploredItem\r\n                      noLabel=\"Non\"\r\n                      yesLabel=\"Oui\"\r\n                      formik={formik}\r\n                      field=\"osoBiopsies\"\r\n                      label=\"Biopsises de l'Œsophage\"\r\n                    />\r\n                    {values.osoBiopsies && (\r\n                      <TextField\r\n                        fullWidth\r\n                        label=\"Biopsises de l'Œsophage: nombre de biopsies, nombre de tubes\"\r\n                        {...getFieldProps('osoBiopsiesDesc')}\r\n                      />\r\n                    )}\r\n                    {!values.osoNormal && (\r\n                      <>\r\n                        <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                          <Button variant=\"contained\" onClick={() => displayModal(0)}>\r\n                            <Typography>Classification de Baveno pour les varices oesophagiennes</Typography>\r\n                          </Button>\r\n                          <Button variant=\"contained\" onClick={() => displayModal(1)}>\r\n                            <Typography>Classification de Prague</Typography>\r\n                          </Button>\r\n                        </Stack>\r\n                        <Stack direction={{ xs: 'row', width: '100%' }} spacing={{ xs: 3, sm: 2 }}>\r\n                          <Button variant=\"contained\" onClick={() => displayModal(2)}>\r\n                            <Typography>Classification de Los Angeles</Typography>\r\n                          </Button>\r\n                          <Button variant=\"contained\" onClick={() => displayModal(3)}>\r\n                            <Typography>Classification de Zargar</Typography>\r\n                          </Button>\r\n                          <Button variant=\"contained\" onClick={() => displayModal(4)}>\r\n                            <Typography>Classification de Siewert</Typography>\r\n                          </Button>\r\n                        </Stack>\r\n                        <Typography variant=\"h6\">Conclusion</Typography>\r\n                        <ConclusionGenerator\r\n                          formikValue=\"osoConclusion\"\r\n                          options={optionsOesophage}\r\n                          setFieldValue={setFieldValue}\r\n                        />\r\n                      </>\r\n                    )}\r\n                  </Stack>\r\n                )}\r\n                <ExploredItem noLabel=\"Non exploré\" yesLabel=\"Exploré\" formik={formik} field=\"cardia\" label=\"Cardia\" />\r\n                {values.cardia && (\r\n                  <>\r\n                    <ExploredItem\r\n                      noLabel=\"Non\"\r\n                      yesLabel=\"Oui\"\r\n                      formik={formik}\r\n                      field=\"cardiaNormal\"\r\n                      label=\"Aspect endoscopique normal\"\r\n                    />\r\n\r\n                    {!values.cardiaNormal && (\r\n                      <>\r\n                        <TextField fullWidth label=\"Exploration du cardia\" {...getFieldProps('cardiaDesc')} />\r\n                        <Typography variant=\"h6\">Conclusion</Typography>\r\n                        <ConclusionGenerator\r\n                          formikValue=\"cardiaConclusion\"\r\n                          options={optionsCardia}\r\n                          setFieldValue={setFieldValue}\r\n                        />\r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n                <Typography variant=\"h4\">Estomac</Typography>\r\n                <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                    <TextField\r\n                      select\r\n                      fullWidth\r\n                      label=\"Lac muqueux \"\r\n                      SelectProps={{ native: true }}\r\n                      {...getFieldProps('lacMuqueux')}\r\n                    >\r\n                      <option key=\"0\" value=\"\" />\r\n                      {['Clair', 'Sale avec présence de débris alimentaires', 'Mousseux', 'Bilieux'].map((option) => (\r\n                        <option key={option} value={option}>\r\n                          {option}\r\n                        </option>\r\n                      ))}\r\n                    </TextField>\r\n                    <TextField\r\n                      select\r\n                      fullWidth\r\n                      label=\"\"\r\n                      SelectProps={{ native: true }}\r\n                      {...getFieldProps('lacMuqueuxDesc')}\r\n                    >\r\n                      <option key=\"0\" value=\"\" />\r\n                      {['Normo-abondant', 'Abondant'].map((option) => (\r\n                        <option key={option} value={option}>\r\n                          {option}\r\n                        </option>\r\n                      ))}\r\n                    </TextField>\r\n                  </Stack>\r\n                  <ExploredItem\r\n                    noLabel=\"Non exploré\"\r\n                    yesLabel=\"Exploré\"\r\n                    formik={formik}\r\n                    field=\"fundus\"\r\n                    label=\"Fundus\"\r\n                  />\r\n                  {values.fundus && (\r\n                    <>\r\n                      <ExploredItem\r\n                        noLabel=\"Non\"\r\n                        yesLabel=\"Oui\"\r\n                        formik={formik}\r\n                        field=\"fundusNormal\"\r\n                        label=\"Aspect endoscopique normal\"\r\n                      />\r\n                      {!values.fundusNormal && (\r\n                        <>\r\n                          <TextField fullWidth label=\"Exploration du fundus\" {...getFieldProps('fundusDesc')} />\r\n                          <Typography variant=\"h6\">Conclusion</Typography>\r\n                          <ConclusionGenerator\r\n                            formikValue=\"fundusConclusion\"\r\n                            options={optionsFundus}\r\n                            setFieldValue={setFieldValue}\r\n                          />\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                  <ExploredItem noLabel=\"Non exploré\" yesLabel=\"Exploré\" formik={formik} field=\"antre\" label=\"Antre\" />\r\n                  {values.antre && (\r\n                    <>\r\n                      <ExploredItem\r\n                        noLabel=\"Non\"\r\n                        yesLabel=\"Oui\"\r\n                        formik={formik}\r\n                        field=\"antreNormal\"\r\n                        label=\"Aspect endoscopique normal\"\r\n                      />\r\n                      {!values.antreNormal && (\r\n                        <>\r\n                          <TextField fullWidth label=\"Exploration de l'antre\" {...getFieldProps('antreDesc')} />\r\n                          <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                            <Button variant=\"contained\" onClick={() => displayModal(6)}>\r\n                              <Typography>Classification de Sarin pour les varices gastriques</Typography>\r\n                            </Button>\r\n                            <Button variant=\"contained\" onClick={() => displayModal(5)}>\r\n                              <Typography>Classification de Paris</Typography>\r\n                            </Button>\r\n                          </Stack>\r\n                          <Stack direction={{ xs: 'row', width: '100%' }} spacing={{ xs: 3, sm: 2 }}>\r\n                            <Button variant=\"contained\" onClick={() => displayModal(7)}>\r\n                              <Typography>Classification de Forrest</Typography>\r\n                            </Button>\r\n                          </Stack>\r\n                          <Typography variant=\"h6\">Conclusion</Typography>\r\n                          <ConclusionGenerator\r\n                            formikValue=\"antreConclusion\"\r\n                            options={optionsAntre}\r\n                            setFieldValue={setFieldValue}\r\n                          />\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                  <ExploredItem\r\n                    noLabel=\"Non exploré\"\r\n                    yesLabel=\"Exploré\"\r\n                    formik={formik}\r\n                    field=\"pylore\"\r\n                    label=\"Pylore\"\r\n                  />\r\n                  {values.pylore && (\r\n                    <>\r\n                      <ExploredItem\r\n                        noLabel=\"Non\"\r\n                        yesLabel=\"Oui\"\r\n                        formik={formik}\r\n                        field=\"pyloreNormal\"\r\n                        label=\"Aspect endoscopique normal\"\r\n                      />\r\n                      {!values.pyloreNormal && (\r\n                        <TextField fullWidth label=\"Exploration du pylore\" {...getFieldProps('pyloreDesc')} />\r\n                      )}\r\n                    </>\r\n                  )}\r\n                  {/* <ExploredItem noLabel=\"Non\" yesLabel=\"Oui\" formik={formik} field=\"estoBiopsies\" label=\"Biopsies\" />\r\n                  {values.estoBiopsies && (\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Biopsies estomac: nombre et localisation, nombre de tubes\"\r\n                      {...getFieldProps('estoBiopsiesDesc')}\r\n                    />\r\n                  )} */}\r\n                  <ExploredItem\r\n                    noLabel=\"Non\"\r\n                    yesLabel=\"Oui\"\r\n                    formik={formik}\r\n                    field=\"estoBiopsies\"\r\n                    label=\"Biopsies de l'Estomac\"\r\n                  />\r\n                  {values.estoBiopsies && (\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Biopsies de l'Estomac: nombre de biopsies, nombre de tubes\"\r\n                      {...getFieldProps('estoBiopsiesDesc')}\r\n                    />\r\n                  )}\r\n                  <ExploredItem noLabel=\"Non exploré\" yesLabel=\"Exploré\" formik={formik} field=\"bulbe\" label=\"Bulbe\" />\r\n                  {values.bulbe && (\r\n                    <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <ExploredItem\r\n                        noLabel=\"Non\"\r\n                        yesLabel=\"Oui\"\r\n                        formik={formik}\r\n                        field=\"bulbeNormal\"\r\n                        label=\"Aspect endoscopique normal\"\r\n                      />\r\n                      {!values.bulbeNormal && (\r\n                        <TextField fullWidth label=\"Exploration du bulbe\" {...getFieldProps('bulbeDesc')} />\r\n                      )}\r\n                      <ExploredItem\r\n                        noLabel=\"Non\"\r\n                        yesLabel=\"Oui\"\r\n                        formik={formik}\r\n                        field=\"bulbeBiopsies\"\r\n                        label=\"Biopsies bulbe\"\r\n                      />\r\n                      {values.bulbeBiopsies && (\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Biopsies du bulbe: nombre de biopsies, nombre de tubes \"\r\n                          {...getFieldProps('bulbeBiopsiesDesc')}\r\n                        />\r\n                      )}\r\n                      {!values.bulbeNormal && (\r\n                        <>\r\n                          <Typography variant=\"h6\">Conclusion</Typography>\r\n                          <ConclusionGenerator\r\n                            formikValue=\"bulbeConclusion\"\r\n                            options={optionsBulbe}\r\n                            setFieldValue={setFieldValue}\r\n                          />\r\n                        </>\r\n                      )}\r\n                    </Stack>\r\n                  )}\r\n                  <ExploredItem\r\n                    noLabel=\"Non exploré\"\r\n                    yesLabel=\"Exploré\"\r\n                    formik={formik}\r\n                    field=\"duodénum\"\r\n                    label=\"Duodénum\"\r\n                  />\r\n                  {values.duodénum && (\r\n                    <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                      <ExploredItem\r\n                        noLabel=\"Non\"\r\n                        yesLabel=\"Oui\"\r\n                        formik={formik}\r\n                        field=\"duodénumNormal\"\r\n                        label=\"Aspect endoscopique normal\"\r\n                      />\r\n                      {!values.duodénumNormal && (\r\n                        <TextField fullWidth label=\"Exploration du duodénum\" {...getFieldProps('duodénumDesc')} />\r\n                      )}\r\n                      <ExploredItem\r\n                        noLabel=\"Non\"\r\n                        yesLabel=\"Oui\"\r\n                        formik={formik}\r\n                        field=\"duodénumBiopsies\"\r\n                        //TODO add condition\r\n                        label={checkIndiction(false, 9) ? 'Biopsies duodénales systématiques' : 'Biopsies du duodénum'}\r\n                      />\r\n                      {values.duodénumBiopsies && (\r\n                        <TextField\r\n                          fullWidth\r\n                          label=\"Biopsies du duodénum: nombre de biopsies, nombre de tubes \"\r\n                          {...getFieldProps('duodénumBiopsiesDesc')}\r\n                        />\r\n                      )}\r\n                      {!values.duodénumNormal && (\r\n                        <>\r\n                          <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                            <Button variant=\"contained\" onClick={() => displayModal(8)}>\r\n                              <Typography>Classification de Spigelman</Typography>\r\n                            </Button>\r\n                          </Stack>\r\n                          <Typography variant=\"h6\">Conclusion</Typography>\r\n                          <ConclusionGenerator\r\n                            formikValue=\"duodénumConclusion\"\r\n                            options={optionsDuodénum}\r\n                            setFieldValue={setFieldValue}\r\n                          />\r\n                        </>\r\n                      )}\r\n                    </Stack>\r\n                  )}\r\n                  {values.typeIndication && (\r\n                    <TextField fullWidth label=\"Deuxiéme temps\" {...getFieldProps('secondTime')} />\r\n                  )}\r\n                </Stack>\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Qualité de la visualisation de la muqueuse </Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                {/* <Typography variant=\"h4\">Qualité de la visualisation de la muqueuse :</Typography> */}\r\n                <Typography variant=\"h6\">Score totale de visibilité muqueuse : </Typography>\r\n                <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    select\r\n                    fullWidth\r\n                    label=\"Fundus\"\r\n                    SelectProps={{ native: true }}\r\n                    {...getFieldProps('qvFundus')}\r\n                  >\r\n                    <option key=\"0\" value=\"\" />\r\n                    {scores.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </TextField>\r\n                  <TextField\r\n                    select\r\n                    fullWidth\r\n                    label=\"Partie supérieure de la grosse tubérosité \"\r\n                    SelectProps={{ native: true }}\r\n                    {...getFieldProps('qvPartieSup')}\r\n                  >\r\n                    <option key=\"0\" value=\"\" />\r\n                    {scores.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </TextField>\r\n                </Stack>\r\n                <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <TextField\r\n                    select\r\n                    fullWidth\r\n                    label=\"Partie inférieure de la grosse tubérosité\"\r\n                    SelectProps={{ native: true }}\r\n                    {...getFieldProps('qvPartieInf')}\r\n                  >\r\n                    <option key=\"0\" value=\"\" />\r\n                    {scores.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </TextField>\r\n                  <TextField\r\n                    select\r\n                    fullWidth\r\n                    label=\"Antre\"\r\n                    SelectProps={{ native: true }}\r\n                    {...getFieldProps('qvAntre')}\r\n                  >\r\n                    <option key=\"0\" value=\"\" />\r\n                    {scores.map((option) => (\r\n                      <option key={option.value} value={option.value}>\r\n                        {option.label}\r\n                      </option>\r\n                    ))}\r\n                  </TextField>\r\n                </Stack>\r\n                <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  <Image src={A} height=\"20vh\" fit=\"contain\" alt=\"A\" />\r\n                  <Image src={B} height=\"20vh\" fit=\"contain\" alt=\"B\" />\r\n                  <Image src={C} height=\"20vh\" fit=\"contain\" alt=\"C\" />\r\n                  <Image src={D} height=\"20vh\" fit=\"contain\" alt=\"D\" />\r\n                </Stack>\r\n                <Stack direction={{ xs: 'row' }} spacing={{ xs: 3, sm: 2 }}>\r\n                  Qualité de la préparation selon le score de Kuo modifié par Chang : A=1, B=2, C=3, D=4 : le score\r\n                  totale est la somme des scores attribués à chaque région : il varie entre 4 et 16 avec 4 pour une\r\n                  excellente préparation et 16 pour une très mauvaise préparation\r\n                </Stack>\r\n                <Typography variant=\"h6\">Score: {getScoreQV()}</Typography>\r\n                <TextField\r\n                  select\r\n                  fullWidth\r\n                  label=\"Qualité de la visualisation de la muqueuse\"\r\n                  SelectProps={{ native: true }}\r\n                  {...getFieldProps('qualityVisualisation')}\r\n                >\r\n                  <option key=\"0\" value=\"\" />\r\n                  {['Bonne', 'Moyenne', 'Mauvaise'].map((option) => (\r\n                    <option key={option} value={option}>\r\n                      {option}\r\n                    </option>\r\n                  ))}\r\n                </TextField>\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Photodocumentation </Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                <Typography>\r\n                  Les sociétés savantes recommandent de réaliser un examen complet et de prendre des photos des\r\n                  différentes zones à explorer à savoir : oesophage proximal, oesophage distal, ligne Z et cardia\r\n                  anatomique, cardia et fundus en rétrovision, corps gastriqur avec la petite courbure en vision\r\n                  directe, corps gastrique avec la grande courbure en rétrovision partielle, l'angle de la petite\r\n                  courbure en rétrovision partielle, l'antre, le bulbe et le deuxième duodénum. À défaut de prendre des\r\n                  photos, ces zones doivent être considérées comme des check-points ou il faut faire un temps de latence\r\n                  pour bien les explorer. (photos ci dessous)\r\n                </Typography>\r\n                <Image src={checklist} width={'100%'} fit=\"contain\" alt=\"A\" />\r\n                {/* <MultiSelect\r\n                    label=\"Zones explorées\"\r\n                    formikValue=\"indexZoneExploré\"\r\n                    options={zones}\r\n                    setFieldValue={setFieldValue}\r\n                  /> */}\r\n                <ExploredItem\r\n                  noLabel=\"Non\"\r\n                  yesLabel=\"Oui\"\r\n                  formik={formik}\r\n                  field=\"zoneMalExploré\"\r\n                  label=\"Y a-t-il des zones non ou mal explorées?\"\r\n                />\r\n                {values.zoneMalExploré && (\r\n                  <MultiSelect\r\n                    label=\"Zones mal explorées\"\r\n                    formikValue=\"indexZoneMalExploré\"\r\n                    options={zones}\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                )}\r\n\r\n                <Box sx={{ flexGrow: 1 }}>\r\n                  <Typography variant=\"h4\" sx={{ mb: '2%' }}>\r\n                    Images prises durant l’examen endoscopiques\r\n                  </Typography>\r\n                  <UploadMultiFile\r\n                    showPreview={preview}\r\n                    files={files}\r\n                    onDrop={handleDropMultiFile}\r\n                    onRemove={handleRemove}\r\n                    onRemoveAll={handleRemoveAll}\r\n                    onUpload={async () => {\r\n                      console.log('files', files);\r\n                      const a = [];\r\n                      files.forEach(async (f) => {\r\n                        if (f?.result && f.result !== '') {\r\n                          //   a.push(Uint8Array.from(atob(f.result), (c) => c.charCodeAt(0)));\r\n                          a.push(f.result);\r\n\r\n                          // fetch(f.result)\r\n                          //   .then((res) => res.blob())\r\n                          //   .then((blob) => {\r\n                          //     console.log(blob);\r\n                          //     a.push(blob);\r\n                          //   });\r\n                        }\r\n                      });\r\n                      setFieldValue('images', a);\r\n                      console.log('a', a);\r\n                    }}\r\n                  />\r\n                </Box>\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n          <Accordion>\r\n            <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1a-content\" id=\"panel1a-header\">\r\n              <Typography variant=\"h4\">Ressenti du patient </Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Stack direction={{ xs: 'column' }} spacing={{ xs: 3, sm: 2 }}>\r\n                <ExploredItem\r\n                  noLabel=\"Non\"\r\n                  yesLabel=\"Oui\"\r\n                  formik={formik}\r\n                  field=\"ressentiPatient\"\r\n                  label=\"Examen mal toléré\"\r\n                />\r\n              </Stack>\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\nfunction dataURLtoBlob(dataUrl) {\r\n  var req = new XMLHttpRequest();\r\n\r\n  req.open('GET', dataUrl);\r\n  req.responseType = 'arraybuffer'; // Can't use blob directly because of https://crbug.com/412752\r\n\r\n  req.onload = function fileLoaded(e) {\r\n    // If you require the blob to have correct mime type\r\n    var mime = this.getResponseHeader('content-type');\r\n\r\n    return new Blob([this.response], { type: mime });\r\n  };\r\n\r\n  req.send();\r\n}\r\n\r\n// dataURLtoBlob(\r\n//   'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==',\r\n//   function (blob) {\r\n//     console.log(blob);\r\n//     return blob;\r\n//   }\r\n// );\r\n","export default \"data:image/png;base64,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\"","/* eslint-disable */\r\nimport PropTypes, { array } from 'prop-types';\r\nimport React, { useState, useCallback } from 'react';\r\n/* eslint-disable react/button-has-type */\r\n/* eslint-disable new-cap */\r\nimport jsPDF from 'jspdf';\r\n// material\r\nimport { styled } from '@mui/material/styles';\r\nimport { isArray } from 'lodash';\r\nimport Check from '@mui/icons-material/Check';\r\nimport { Form, FormikProvider, useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport * as fs from 'fs';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport DragIndicatorIcon from '@mui/icons-material/DragIndicator';\r\nimport BiotechIcon from '@mui/icons-material/Biotech';\r\nimport AssignmentIcon from '@mui/icons-material/Assignment';\r\nimport {\r\n  AlignmentType,\r\n  Border,\r\n  BorderStyle,\r\n  Document,\r\n  HeadingLevel,\r\n  ImageRun,\r\n  Packer,\r\n  Paragraph,\r\n  SectionType,\r\n  TextRun,\r\n  UnderlineType\r\n} from 'docx';\r\nimport { saveAs } from 'file-saver';\r\nimport {\r\n  Box,\r\n  Step,\r\n  Paper,\r\n  Button,\r\n  Stepper,\r\n  StepLabel,\r\n  Typography,\r\n  StepConnector,\r\n  stepConnectorClasses,\r\n  Divider\r\n} from '@mui/material';\r\nimport { useSnackbar } from 'notistack';\r\nimport PatientPersoData from './PatientPersoData';\r\nimport Indications from './Indications';\r\nimport Conclusion from './Conclusion';\r\nimport ExamenEndoscopique from './ExamenEndoscopique';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst STEPS = [\r\n  'Données personelles du patient',\r\n  'Phase I : Pré-endoscopie',\r\n  'Phase II : Per-endoscopie',\r\n  'Phase III : Post-endoscopie'\r\n];\r\nconst QontoStepIconRoot = styled('div')(({ theme, ownerState }) => ({\r\n  height: 22,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  color: theme.palette.text.disabled,\r\n  ...(ownerState.active && {\r\n    color: theme.palette.success.main\r\n  }),\r\n  '& .QontoStepIcon-completedIcon': {\r\n    zIndex: 1,\r\n    fontSize: 18,\r\n    color: theme.palette.success.main\r\n  },\r\n  '& .QontoStepIcon-circle': {\r\n    width: 8,\r\n    height: 8,\r\n    borderRadius: '50%',\r\n    backgroundColor: 'currentColor'\r\n  }\r\n}));\r\n\r\nQontoStepIcon.propTypes = {\r\n  active: PropTypes.bool,\r\n  completed: PropTypes.bool\r\n};\r\n\r\nfunction QontoStepIcon({ active, completed }) {\r\n  return (\r\n    <QontoStepIconRoot ownerState={{ active }}>\r\n      {completed ? <Check className=\"QontoStepIcon-completedIcon\" /> : <div className=\"QontoStepIcon-circle\" />}\r\n    </QontoStepIconRoot>\r\n  );\r\n}\r\n\r\nconst ColorlibConnector = styled(StepConnector)(({ theme }) => ({\r\n  [`&.${stepConnectorClasses.alternativeLabel}`]: {\r\n    top: 22\r\n  },\r\n  [`&.${stepConnectorClasses.active}`]: {\r\n    [`& .${stepConnectorClasses.line}`]: {\r\n      backgroundImage: theme.palette.gradients.error\r\n    }\r\n  },\r\n  [`&.${stepConnectorClasses.completed}`]: {\r\n    [`& .${stepConnectorClasses.line}`]: {\r\n      backgroundImage: theme.palette.gradients.error\r\n    }\r\n  },\r\n  [`& .${stepConnectorClasses.line}`]: {\r\n    height: 3,\r\n    border: 0,\r\n    borderRadius: 1,\r\n    backgroundColor: theme.palette.divider\r\n  }\r\n}));\r\n\r\nconst ColorlibStepIconRoot = styled('div')(({ theme, ownerState }) => ({\r\n  zIndex: 1,\r\n  width: 50,\r\n  height: 50,\r\n  display: 'flex',\r\n  borderRadius: '50%',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  color: theme.palette.text.disabled,\r\n  backgroundColor: theme.palette.mode === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n  ...(ownerState.active && {\r\n    boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)',\r\n    color: theme.palette.common.white,\r\n    backgroundImage: theme.palette.gradients.error\r\n  }),\r\n  ...(ownerState.completed && {\r\n    color: theme.palette.common.white,\r\n    backgroundImage: theme.palette.gradients.error\r\n  })\r\n}));\r\n\r\nColorlibStepIcon.propTypes = {\r\n  active: PropTypes.bool,\r\n  completed: PropTypes.bool,\r\n  icon: PropTypes.node\r\n};\r\n\r\nfunction ColorlibStepIcon(props) {\r\n  const { active, completed } = props;\r\n\r\n  const icons = {\r\n    1: <PersonIcon />,\r\n    2: <DragIndicatorIcon />,\r\n    3: <BiotechIcon />,\r\n    4: <AssignmentIcon />\r\n  };\r\n\r\n  return <ColorlibStepIconRoot ownerState={{ completed, active }}>{icons[String(props.icon)]}</ColorlibStepIconRoot>;\r\n}\r\n\r\nfunction getStepContent(step, formik) {\r\n  switch (step) {\r\n    case 0:\r\n      return <PatientPersoData formik={formik} />;\r\n    case 1:\r\n      return <Indications formik={formik} />;\r\n    case 2:\r\n      return <ExamenEndoscopique formik={formik} />;\r\n    default:\r\n      return <Conclusion formik={formik} />;\r\n  }\r\n}\r\n\r\nexport default function CustomizedSteppers({ isEdit, currentReport }) {\r\n  // const NewReportSchema = Yup.object().shape({\r\n  //   nom: Yup.string().required('Le nom est requis'),\r\n  //   prenom: Yup.string().required('Le prénom est requis'),\r\n  //   age: Yup.string().required('age est requis'),\r\n  //   sexe: Yup.string().required('sexe est requis'),\r\n  //   numDoss: Yup.string().required('numero de dossier est requis'),\r\n  //   etab: Yup.string().required('établissement sanitaire est requis'),\r\n  //   antecedents: Yup.string().required('antecedents est requis'),\r\n  //   indications: Yup.string().required('indications est requis'),\r\n  //   FOGDmaterials: Yup.string().required('materials est requis'),\r\n  //   FOGDoesophage: Yup.string().required('oesophage est requis'),\r\n  //   FOGDcardia: Yup.string().required('cardia est requis'),\r\n  //   FOGDfundus: Yup.string().required('fundus est requis'),\r\n  //   FOGDantre: Yup.string().required('antre est requis'),\r\n  //   FOGDpylore: Yup.string().required('pylore est requis'),\r\n  //   FOGDdidii: Yup.string().required('DIDII est requis'),\r\n  //   ColoscopieMaterials: Yup.string().required('Materials est requis'),\r\n  //   ColoscopieColonGauche: Yup.string().required('Colon Gauche est requis'),\r\n  //   ColoscopieColonTansverse: Yup.string().required('Colon Tansverse est requis'),\r\n  //   ColoscopieColonDroit: Yup.string().required('Colon Droit est requis'),\r\n  //   ColoscopiePreparation: Yup.string().required('Preparation est requis'),\r\n  //   ColoscopieBasFondCaecal: Yup.string().required('Bas Fond Caecal est requis'),\r\n  //   ColoscopieColonGaucheText: Yup.string().required('Colon Gauche est requis'),\r\n  //   ColoscopieColonTansverseText: Yup.string().required('Colon Tansverse est requis'),\r\n  //   ColoscopieColonDroitText: Yup.string().required('Colon Droit est requis'),\r\n  //   conclusion: Yup.string().required('conclusion est requis')\r\n  // });\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      nom: currentReport?.nom || '',\r\n      prenom: currentReport?.prenom || '',\r\n      age: currentReport?.age || '',\r\n      genre: currentReport?.genre || '',\r\n      numDoss: currentReport?.numDoss || '',\r\n      numTel: currentReport?.numTel || '',\r\n      serviceOrigine: currentReport?.serviceOrigine || '',\r\n      consentement: currentReport?.consentement || '',\r\n      // antecedentsFam: currentReport?.antecedentsFam || '',\r\n      // antecedentsPerso: currentReport?.antecedentsPerso || '',\r\n      // descAntecedentFam: currentReport?.descAntecedentFam || '',\r\n      // descAntecedentPerso: currentReport?.descAntecedentPerso || '',\r\n      // nombrePacketTabac: currentReport?.nombrePacketTabac || '',\r\n      // consoAlcool: currentReport?.consoAlcool || false,\r\n      // autresHabitudes: currentReport?.autresHabitudes || '',\r\n      antiThrombotique: currentReport?.antiThrombotique || false,\r\n      antiCoagulantsClasse: currentReport?.antiCoagulantsClasse || [],\r\n      antiCoagulantsClasseDesc: currentReport?.antiCoagulantsClasseDesc || '',\r\n      // antiCoagulantsDose: currentReport?.antiCoagulantsDose || '',\r\n      // antiCoagulantsNb: currentReport?.antiCoagulantsNb || '',\r\n      // antiCoagulantsGestionDebut: currentReport?.antiCoagulantsGestionDebut || '',\r\n      // antiCoagulantsGestionFin: currentReport?.antiCoagulantsGestionFin || '',\r\n      antiCoagulantsGestion: currentReport?.antiCoagulantsGestion || '',\r\n      autresTraitements: currentReport?.autresTraitements || '',\r\n      typeIndication: currentReport?.typeIndication || false,\r\n      diagnostiqueIndex: currentReport?.diagnostiqueIndex || [],\r\n      thérapeutiqueIndex: currentReport?.thérapeutiqueIndex || [],\r\n      // dateHD: currentReport?.dateHD || '',\r\n      ippHD: currentReport?.ippHD || false,\r\n      ippProtocolHD: currentReport?.ippProtocolHD || '',\r\n      suspicionCirrhoseHD: currentReport?.suspicionCirrhoseHD || false,\r\n      vasoactifHD: currentReport?.vasoactifHD || false,\r\n      vasoactifDescHD: currentReport?.vasoactifDescHD || '',\r\n      antibioprophylaxieHD: currentReport?.antibioprophylaxieHD || false,\r\n      antibioprophylaxieDescHD: currentReport?.antibioprophylaxieDescHD || '',\r\n      // transfusionHD: currentReport?.transfusionHD || false,\r\n      // cgrHD: currentReport?.cgrHD || '',\r\n      antibioprophylaxieJJA: currentReport?.antibioprophylaxieJJA || false,\r\n      antibioprophylaxieDescJJA: currentReport?.antibioprophylaxieDescJJA || '',\r\n      autresIndications: currentReport?.autresIndications || '',\r\n\r\n      surveillanceLesionDesc: currentReport?.surveillanceLesionDesc || '',\r\n      prémédicationIndication: currentReport?.prémédicationIndication || false,\r\n      // prémédicationIndicationDesc: currentReport?.prémédicationIndicationDesc || '',\r\n      secondTime: currentReport?.secondTime || '',\r\n      examenPhysiqueInterrogatoire: currentReport?.examenPhysiqueInterrogatoire || false,\r\n      délaiExamen: currentReport?.délaiExamen || '',\r\n      dateExamen: currentReport?.dateExamen || '',\r\n      jeuneExamen: currentReport?.jeuneExamen || false,\r\n      // duréeJeuneSolide: currentReport?.duréeJeuneSolide || '',\r\n      // duréeJeuneLiquide: currentReport?.duréeJeuneLiquide || '',\r\n      consoTabacAvantExamen: currentReport?.consoTabacAvantJeune || false,\r\n      sédationExamen: currentReport?.sédationExamen || false,\r\n      anomaliesAvantSédation: currentReport?.anomaliesAvantSédation || false,\r\n      anomaliesAvantSédationDesc: currentReport?.anomaliesAvantSédationDesc || '',\r\n      protocoleAvantSédation: currentReport?.protocoleAvantSédation || '',\r\n      endoscope: currentReport?.endoscope || '',\r\n\r\n      // pince: currentReport?.pince || false,\r\n      // usagePince: currentReport?.usagePince || false,\r\n      // indexPince: currentReport?.indexPince || '',\r\n      autresMateriels: currentReport?.autresMateriels || '',\r\n      autresMaterielsDesc: currentReport?.autresMaterielsDesc || '',\r\n      osophage: currentReport?.osophage || false,\r\n      osophageDesc: currentReport?.osophageDesc || '',\r\n      osoBiopsies: currentReport?.osoBiopsies || false,\r\n      osoBiopsiesDesc: currentReport?.osoBiopsiesDesc || '',\r\n      osoNormal: currentReport?.osoNormal || false,\r\n      osoConclusion: currentReport?.osoConclusion || '',\r\n      cardia: currentReport?.cardia || false,\r\n      cardiaNormal: currentReport?.cardiaNormal || false,\r\n      cardiaDesc: currentReport?.cardiaDesc || '',\r\n      cardiaConclusion: currentReport?.cardiaConclusion || '',\r\n      // estomac: currentReport?.estomac || '',\r\n      lacMuqueux: currentReport?.lacMuqueux || '',\r\n      lacMuqueuxDesc: currentReport?.lacMuqueuxDesc || '',\r\n      fundus: currentReport?.fundus || false,\r\n      fundusNormal: currentReport?.fundusNormal || false,\r\n      fundusDesc: currentReport?.fundusDesc || '',\r\n      fundusConclusion: currentReport?.fundusConclusion || '',\r\n      antre: currentReport?.antre || false,\r\n      antreNormal: currentReport?.antreNormal || false,\r\n      antreDesc: currentReport?.antreDesc || '',\r\n      estoBiopsies: currentReport?.estoBiopsies || false,\r\n      estoBiopsiesDesc: currentReport?.estoBiopsiesDesc || '',\r\n      pylore: currentReport?.pylore || false,\r\n      pyloreNormal: currentReport?.pyloreNormal || false,\r\n      pyloreDesc: currentReport?.pyloreDesc || '',\r\n      antreConclusion: currentReport?.antreConclusion || '',\r\n      // estoBiopsies: currentReport?.estoBiopsies || false,\r\n      // estoBiopsiesDesc: currentReport?.estoBiopsiesDesc || '',\r\n      bulbe: currentReport?.bulbe || false,\r\n      bulbeNormal: currentReport?.bulbeNormal || false,\r\n      bulbeDesc: currentReport?.bulbeDesc || '',\r\n      bulbeBiopsies: currentReport?.bulbeBiopsies || false,\r\n      bulbeBiopsiesDesc: currentReport?.bulbeBiopsiesDesc || '',\r\n      bulbeConclusion: currentReport?.bulbeConclusion || '',\r\n\r\n      duodénum: currentReport?.duodénum || false,\r\n      duodénumNormal: currentReport?.duodénumNormal || false,\r\n      duodénumDesc: currentReport?.duodénumDesc || '',\r\n      duodénumBiopsies: currentReport?.duodénumBiopsies || false,\r\n      duodénumBiopsiesDesc: currentReport?.duodénumBiopsiesDesc || '',\r\n      duodénumConclusion: currentReport?.duodénumConclusion || '',\r\n\r\n      zoneMalExploré: currentReport?.zoneMalExploré || false,\r\n      indexZoneExploré: currentReport?.indexZoneExploré || '',\r\n      indexZoneMalExploré: currentReport?.indexZoneMalExploré || '',\r\n\r\n      images: currentReport?.images || '',\r\n      FOGDtotale: currentReport?.FOGDtotale || false,\r\n      duréeExamen: currentReport?.duréeExamen || '',\r\n      qvFundus: currentReport?.qvFundus || '',\r\n      qvPartieSup: currentReport?.qvPartieSup || '',\r\n      qvPartieInf: currentReport?.qvPartieInf || '',\r\n      qvAntre: currentReport?.qvAntre || '',\r\n      qualityVisualisation: currentReport?.qualityVisualisation || '',\r\n      chromoendoscopie: currentReport?.chromoendoscopie || false,\r\n      chromoendoscopieDesc: currentReport?.chromoendoscopieDesc || '',\r\n      biopsies: currentReport?.biopsies || false,\r\n      biopsiesDesc: currentReport?.biopsiesDesc || '',\r\n      conclusion: currentReport?.conclusion || '',\r\n      CAT: currentReport?.CAT || '',\r\n      seniors: currentReport?.seniors || '',\r\n      residents: currentReport?.residents || '',\r\n      //techniciens: currentReport?.techniciens || [],\r\n      autreSeniors: currentReport?.autreSeniors || '',\r\n      autreResidents: currentReport?.autreResidents || '',\r\n      ressentiPatient: currentReport?.ressentiPatient || false,\r\n      complicationSedation: currentReport?.complicationSedation || false,\r\n      complicationSedationDesc: currentReport?.complicationSedationDesc || '',\r\n      complicationEndo: currentReport?.complicationEndo || false,\r\n      complicationEndoDesc: currentReport?.complicationEndoDesc || '',\r\n      necessiteHospitalisation: currentReport?.necessiteHospitalisation || false\r\n    },\r\n    // validationSchema: NewReportSchema,\r\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\r\n      try {\r\n        console.log('VALUES', values);\r\n        console.log({ thérapeutiqueIndex: values.thérapeutiqueIndex });\r\n        // const imageBlobs = [];\r\n        // if (isArray(values.images)) {\r\n        //   values.images.forEach((img) => {\r\n        //     //   const imageBlob = await fetch(\r\n        //     //     'https://raw.githubusercontent.com/dolanmiu/docx/master/demo/images/cat.jpg'\r\n        //     //   ).then((r) => r.blob());\r\n\r\n        //   });\r\n        // }\r\n        // const blobb = await fetch('https://raw.githubusercontent.com/dolanmiu/docx/master/demo/images/cat.jpg').then(\r\n        //   (r) => r.blob()\r\n        // );\r\n        // console.log('blob', blobb);\r\n        const images = [];\r\n        if (values?.images?.length && values.images.length > 0) {\r\n          for (let index = 0; index < values.images.length; index += 1) {\r\n            /* eslint-disable no-await-in-loop */\r\n            const iblob = await (await fetch(values.images[index])).blob();\r\n            console.log('iblob', iblob);\r\n            if (iblob) {\r\n              console.log('first');\r\n              images.push(createTextOnNewLine(`Image ${index + 1}:`));\r\n              images.push(createBreak());\r\n              images.push(\r\n                new ImageRun({\r\n                  data: iblob,\r\n                  transformation: {\r\n                    width: 300,\r\n                    height: 300\r\n                  }\r\n                })\r\n              );\r\n              images.push(createBreak());\r\n            }\r\n          }\r\n        }\r\n        const doc = new Document({\r\n          creator: 'Care1',\r\n          description: 'Compte rendu de fibroscopie oeso-gastro-duodénale ',\r\n          title: 'Care1',\r\n          properties: {\r\n            type: SectionType.CONTINUOUS\r\n          },\r\n          sections: [\r\n            {\r\n              properties: {},\r\n              children: [\r\n                new Paragraph({\r\n                  children: [createText('CHU Mongi Slim la marsa'), createTextOnNewLine('Unité d’endoscopie')],\r\n                  heading: HeadingLevel.HEADING_3\r\n                }),\r\n                new Paragraph({\r\n                  children: [\r\n                    createBreak(),\r\n                    new TextRun({\r\n                      text: 'Compte rendu de fibroscopie oeso-gastro-duodénale',\r\n                      bold: true,\r\n                      color: '#000000'\r\n                    })\r\n                  ],\r\n                  alignment: AlignmentType.CENTER,\r\n                  heading: HeadingLevel.HEADING_1,\r\n                  break: 1\r\n                }),\r\n                new Paragraph({\r\n                  children: [\r\n                    createBoldText('Nom: '),\r\n                    createText(values.nom),\r\n                    createBoldText('\\t\\t\\tPrénom: '),\r\n                    createText(values.prenom),\r\n                    createBoldText('\\t\\t\\tAge: '),\r\n                    createText(values.age),\r\n                    createBoldTextOnNewLine(\"Service d'origine: \"),\r\n                    createText(values.serviceOrigine),\r\n                    createBoldText(values.numTel !== '' ? '\\tNuméro de téléphone: ' : ''),\r\n                    createText(values.numTel),\r\n                    createBoldTextOnNewLine('Numéro de dossier médical: '),\r\n                    createText(values.numDoss),\r\n                    createBoldTextOnNewLine(\"Date de l'examen: \"),\r\n                    createText(values.dateExamen ?? ''),\r\n                    createBoldText(\"\\t\\t\\tDurée l'examen: \"),\r\n                    createText(values.duréeExamen ?? ''),\r\n                    createBoldTextOnNewLine('Traitements en cours: '),\r\n                    ...getAntiCoagulant(),\r\n                    ...getAutreTraitement(),\r\n                    ...getIndications(),\r\n                    ...getHemoDigestive(),\r\n                    ...getJJA(),\r\n                    ...getSurveillance(),\r\n                    ...getConsentementPatient(),\r\n                    ...getPrémédicationIndication(),\r\n                    ...getPatientaJeune(),\r\n                    ...getProtocolSédation(),\r\n                    ...getMaterial()\r\n                  ],\r\n                  border: {\r\n                    bottom: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 },\r\n                    top: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 },\r\n                    left: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 },\r\n                    right: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 }\r\n                  }\r\n                }),\r\n                new Paragraph({\r\n                  children: [\r\n                    values.typeIndication && values.secondTime !== ''\r\n                      ? createBoldText('Premier temps: Exploration: ')\r\n                      : createText(''),\r\n                    createUnderlinedBoldTextOnNewLine('Examen: ')\r\n                  ],\r\n                  heading: HeadingLevel.HEADING_3\r\n                  // break: 1\r\n                }),\r\n\r\n                new Paragraph({\r\n                  children: [\r\n                    ...getOesophage(),\r\n                    ...getCardia(),\r\n                    ...getEstomac(),\r\n                    ...getFundus(),\r\n                    ...getAntre(),\r\n                    ...getPylore(),\r\n                    ...getBiopsiesEsto(),\r\n                    ...getBulbe(),\r\n                    ...getDuodénum(),\r\n                    ...getSecondTime()\r\n                  ]\r\n                }),\r\n                new Paragraph({\r\n                  children: [createUnderlinedBoldTextOnNewLine('Conclusion: '), createBreak()],\r\n                  heading: HeadingLevel.HEADING_3\r\n                  // break: 1\r\n                }),\r\n                getPart1(),\r\n                getPart2(),\r\n                getPart3(),\r\n                new Paragraph({\r\n                  children: [\r\n                    values?.images?.length > 0 ? createBoldTextOnNewLine('Photo documentations:') : createText(''),\r\n                    ...images\r\n                    // isArray(values.images)\r\n                    //   ? values.images.map(\r\n                    //       (img) =>\r\n                    //         new ImageRun({\r\n                    //           data: img,\r\n                    //           transformation: {\r\n                    //             width: 100,\r\n                    //             height: 100\r\n                    //           }\r\n                    //         })\r\n                    //     )\r\n                    //   : createText('')\r\n                  ],\r\n                  break: 1\r\n                }),\r\n                new Paragraph({\r\n                  alignment: AlignmentType.RIGHT,\r\n                  children: [\r\n                    ...getOperateurs()\r\n                    // isArray(values.images)\r\n                    //   ? values.images.map(\r\n                    //       (img) =>\r\n                    //         new ImageRun({\r\n                    //           data: img,\r\n                    //           transformation: {\r\n                    //             width: 100,\r\n                    //             height: 100\r\n                    //           }\r\n                    //         })\r\n                    //     )\r\n                    //   : createText('')\r\n                  ],\r\n                  break: 1\r\n                })\r\n              ]\r\n            }\r\n          ]\r\n        });\r\n\r\n        // Used to export the file into a .docx file\r\n        // Packer.toBuffer(doc).then((buffer) => {\r\n        //   //fs.writeFileSync('My Document.docx', buffer);\r\n        // });\r\n        // const buffer = await Packer.toBuffer(doc);\r\n        // const blob = new Blob([buffer], {\r\n        //   type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\r\n        // });\r\n        const blob = await Packer.toBlob(doc);\r\n        saveAs(blob, `${values.nom} ${values.prenom} ${values.numDoss !== '' ? values.numDoss : 'Care1'}.docx`);\r\n        // window.location.reload()\r\n        const bodyValues = values;\r\n        delete bodyValues.cardiaConclusion;\r\n        delete bodyValues.osoConclusion;\r\n        delete bodyValues.duodénumConclusion;\r\n        delete bodyValues.fundusConclusion;\r\n        delete bodyValues.antreConclusion;\r\n        delete bodyValues.bulbeConclusion;\r\n        delete bodyValues.images;\r\n        /* fetch('http://localhost:5000/api/reports', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(bodyValues)\r\n        })\r\n          .then((response) => response.json())\r\n          .then(async (data) => {\r\n            console.log('data', data);\r\n\r\n            // generatePDF(data);\r\n          }); */\r\n        // resetForm();\r\n        setSubmitting(false);\r\n        enqueueSnackbar('Génération de compte rendu', { variant: 'success' });\r\n      } catch (error) {\r\n        console.error(error);\r\n        setSubmitting(false);\r\n        setErrors(error);\r\n      }\r\n    }\r\n  });\r\n\r\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\r\n\r\n  const [activeStep, setActiveStep] = useState(0);\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n  };\r\n\r\n  const createText = (text) =>\r\n    new TextRun({\r\n      text,\r\n      color: '#000000'\r\n    });\r\n\r\n  const createTextOnNewLine = (text) =>\r\n    new TextRun({\r\n      text,\r\n      color: '#000000',\r\n      break: 1\r\n    });\r\n\r\n  const createBoldText = (text) =>\r\n    new TextRun({\r\n      text,\r\n      color: '#000000',\r\n      bold: true\r\n    });\r\n  const createBreak = () =>\r\n    new TextRun({\r\n      text: '',\r\n      break: 1\r\n    });\r\n  const createUnderlinedBoldTextOnNewLine = (text) =>\r\n    new TextRun({\r\n      text,\r\n      color: '#000000',\r\n      break: 1,\r\n      bold: true,\r\n      underline: {}\r\n    });\r\n  const createBoldTextOnNewLine = (text) =>\r\n    new TextRun({\r\n      text,\r\n      color: '#000000',\r\n      break: 1,\r\n      bold: true\r\n    });\r\n  const getImages = async () => {\r\n    const returnArray = [];\r\n    if (values?.images?.length && values.images.length > 0) {\r\n      await values.images.forEach(async (img) => {\r\n        const iblob = await (await fetch(img)).blob();\r\n        if (iblob) {\r\n          returnArray.push(\r\n            new ImageRun({\r\n              data: iblob,\r\n              transformation: {\r\n                width: 100,\r\n                height: 100\r\n              }\r\n            })\r\n          );\r\n        }\r\n      });\r\n      return returnArray;\r\n    }\r\n    return returnArray;\r\n  };\r\n  const getAntiCoagulant = () => {\r\n    console.log('antiThrombotique', values.antiThrombotique);\r\n    console.log('antiCoagulantsClasse', values.antiCoagulantsClasse);\r\n    if (values.antiThrombotique && values.antiCoagulantsClasse.length > 0) {\r\n      const classeString = values.antiCoagulantsClasse.join(', ');\r\n      console.log('classeString', classeString);\r\n      return [\r\n        createBoldTextOnNewLine('\\tAnti thrombotique: '),\r\n        createText(classeString),\r\n        createBoldTextOnNewLine('\\tGestion des anticoagulants: '),\r\n        createText(values.antiCoagulantsGestion.replace('Autres', values.antiCoagulantsClasseDesc) ?? '')\r\n      ];\r\n    }\r\n    return [createBoldTextOnNewLine('\\tAnti thrombotique: '), createText('Non')];\r\n  };\r\n  const getAutreTraitement = () => {\r\n    console.log('autresTraitements', values.autresTraitements);\r\n\r\n    if (values.autresTraitements.length > 0) {\r\n      return [createBoldTextOnNewLine('\\tAutres traitements: '), createText(values.autresTraitements)];\r\n    }\r\n    return [];\r\n  };\r\n  function getIndications() {\r\n    const array = [];\r\n    if (values.thérapeutiqueIndex.length > 0 || values.diagnostiqueIndex.length > 0) {\r\n      array.push(createBoldTextOnNewLine('Indications: FOGD: '));\r\n      if (values.typeIndication) {\r\n        // array.push(createBoldTextOnNewLine('Indications: FOGD Thérapeutique: '));\r\n        console.log('---thérapeutiqueIndex', values?.thérapeutiqueIndex);\r\n        values?.thérapeutiqueIndex?.forEach((e) => {\r\n          console.log('e', e);\r\n          console.log('v', FGDOthérapeutique[e]);\r\n          array.push(createText(FGDOthérapeutique[e] + '; '));\r\n        });\r\n      } else {\r\n        console.log('---diagnostiqueIndex', values?.diagnostiqueIndex);\r\n        //array.push(createBoldTextOnNewLine('Indications: FOGD Diagnostique: '));\r\n        values?.diagnostiqueIndex?.forEach((e) => {\r\n          console.log('e', e);\r\n          console.log('v', FGDOdiagnostique[e]);\r\n          array.push(createText(FGDOdiagnostique[e] + '; '));\r\n        });\r\n      }\r\n    }\r\n    if (values.autresIndications && values.autresIndications !== '') {\r\n      array.push(createTextOnNewLine(values.autresIndications));\r\n    }\r\n    // return [\r\n    //   createBoldTextOnNewLine(`Indications: ${values.typeIndication ? 'FOGD Thérapeutique: ' : 'FOGD Diagnostique: '}`),\r\n    //   createText(\r\n    //     `${\r\n    //       values.typeIndication\r\n    //         ? FGDOthérapeutique[values.thérapeutiqueIndex] ?? ''\r\n    //         : FGDOdiagnostique[values.diagnostiqueIndex] ?? ''\r\n    //     }`\r\n    //   )\r\n    // ];\r\n    return array;\r\n  }\r\n  const getHemoDigestive = () => {\r\n    console.log('typeIndication', values.typeIndication);\r\n    console.log('thérapeutiqueIndex', values.thérapeutiqueIndex);\r\n    if (values.typeIndication && checkIndiction(true, 0)) {\r\n      return [...getIPP(), ...getSuspicion(), ...getVasoactif(), ...getAntibioprophylaxie()];\r\n    }\r\n    return [];\r\n  };\r\n  const getIPP = () => {\r\n    if (values.ippHD) return [createBoldTextOnNewLine('\\tIPP: '), createText('Oui')];\r\n    return [createBoldTextOnNewLine('\\tIPP: '), createText('Non')];\r\n  };\r\n  const getSurveillance = () => {\r\n    if (values.surveillanceLesionDesc.length > 0 && !values.typeIndication && checkIndiction(false, 4)) {\r\n      return [\r\n        createBoldTextOnNewLine('\\tSurveillance d’une lésion prénéoplasique: '),\r\n        createText(values.surveillanceLesionDesc)\r\n      ];\r\n    }\r\n    return [];\r\n  };\r\n  const getSuspicion = () => {\r\n    if (values.suspicionCirrhoseHD)\r\n      return [createBoldTextOnNewLine('\\tSuspicion d’hémorragie par hypertension portale: '), createText('Oui')];\r\n    return [createBoldTextOnNewLine('\\tSuspicion d’hémorragie par hypertension portale: '), createText('Non')];\r\n  };\r\n  const getVasoactif = () => {\r\n    if (values.suspicionCirrhoseHD) {\r\n      if (values.vasoactifHD) return [createBoldTextOnNewLine('\\tTraitement vasoactif: '), createText('Oui')];\r\n      return [createBoldTextOnNewLine('\\tTraitement vasoactif: '), createText('Non')];\r\n    }\r\n    return [];\r\n  };\r\n\r\n  const getAntibioprophylaxie = () => {\r\n    if (values.suspicionCirrhoseHD) {\r\n      if (values.antibioprophylaxieHD) return [createBoldTextOnNewLine('\\tAntibioprophylaxie: '), createText('Oui')];\r\n      return [createBoldTextOnNewLine('\\tAntibioprophylaxie: '), createText('Non')];\r\n    }\r\n    return [];\r\n  };\r\n\r\n  const getJJA = () => {\r\n    if (values.typeIndication && checkIndiction(true, 6) && values.antibioprophylaxieJJA)\r\n      return [\r\n        createBoldTextOnNewLine('\\tSonde de gastrostomie/jéjunostomie d’alimentation: '),\r\n        createBoldText('Antibioprophylaxie: '),\r\n        createText(values.antibioprophylaxieDescJJA)\r\n      ];\r\n    return [];\r\n  };\r\n  const getConsentementPatient = () => {\r\n    if (values.consentement) return [createBoldTextOnNewLine('Consentement éclairé du patient: '), createText('Oui')];\r\n    return [createBoldTextOnNewLine('Consentement éclairé du patient: '), createText('Non')];\r\n  };\r\n  const getPrémédicationIndication = () => {\r\n    return [createBoldTextOnNewLine('Pré médication: '), createText(values.prémédicationIndication ? 'Oui' : 'Non')];\r\n  };\r\n  const getPatientaJeune = () => {\r\n    console.log('jeuneExamen', values.jeuneExamen);\r\n    if (values.jeuneExamen) return [createBoldTextOnNewLine('Patient à jeûne: '), createText('Oui')];\r\n    return [createBoldTextOnNewLine('Patient à jeûne: '), createText('Non')];\r\n  };\r\n\r\n  const getProtocolSédation = () => {\r\n    if (values.sédationExamen)\r\n      return [\r\n        createBoldTextOnNewLine('Sous sédation '),\r\n        createText(values.protocoleAvantSédation !== '' ? `: ${values.protocoleAvantSédation}` : '')\r\n      ];\r\n    return [];\r\n  };\r\n  const getMaterial = () => {\r\n    console.log('autresMateriels', values?.autresMateriels);\r\n    let materialString = values?.autresMateriels ? values.autresMateriels.join(', ') : '';\r\n    return [\r\n      createBoldTextOnNewLine('Matériel: '),\r\n      createBoldTextOnNewLine(values.endoscope !== '' ? '\\tEndoscope: ' : ''),\r\n      createText(values.endoscope),\r\n      createBoldTextOnNewLine(values.autresMateriels !== '' ? '\\tAutres: ' : ''),\r\n      createText(materialString.replace('Autres', `${values.autresMaterielsDesc}`))\r\n    ];\r\n  };\r\n  const getZoneMalExploré = () => {\r\n    if (values.zoneMalExploré) {\r\n      let string = values?.indexZoneMalExploré ? values.indexZoneMalExploré.join(', ') : '';\r\n      return [\r\n        createBoldTextOnNewLine(values.indexZoneMalExploré !== '' ? 'Zones mal explorées: ' : ''),\r\n        createText(string)\r\n      ];\r\n    }\r\n    return [createBoldTextOnNewLine('Zones mal explorées: '), createText('Non')];\r\n  };\r\n  const getOesophage = () => [\r\n    createBoldTextOnNewLine('Œsophage: '),\r\n    createText(\r\n      values.osophage ? (values.osoNormal ? 'Aspect endoscopique normal' : values.osophageDesc ?? '') : 'Non exploré'\r\n    ),\r\n    values.osoBiopsies ? createTextOnNewLine(\"Biopsies de l'Œsophage: \") : createText(''),\r\n    values.osoBiopsies ? createText(values.osoBiopsiesDesc !== '' ? values.osoBiopsiesDesc : 'Oui') : createText('')\r\n  ];\r\n  const getCardia = () => [\r\n    createBreak(),\r\n    createBoldTextOnNewLine('Cardia: '),\r\n    createText(\r\n      values.cardia ? (values.cardiaNormal ? 'Aspect endoscopique normal' : values.cardiaDesc ?? '') : 'Non exploré'\r\n    )\r\n  ];\r\n  const getEstomac = () => [\r\n    createBreak(),\r\n    createBoldTextOnNewLine('Estomac: '),\r\n    createText(values.lacMuqueux !== '' ? `Lac muqueux ${values.lacMuqueux}` : ''),\r\n    createText(values.lacMuqueux !== '' && values.lacMuqueuxDesc !== '' ? ', ' : ''),\r\n    createText(values.lacMuqueuxDesc !== '' ? values.lacMuqueuxDesc : '')\r\n  ];\r\n  const getFundus = () => [\r\n    createBoldTextOnNewLine('Fundus: '),\r\n    createText(\r\n      values.fundus ? (values.fundusNormal ? 'Aspect endoscopique normal' : values.fundusDesc ?? '') : 'Non exploré'\r\n    )\r\n  ];\r\n  const getAntre = () => [\r\n    createBoldTextOnNewLine('Antre: '),\r\n    createText(\r\n      values.antre ? (values.antreNormal ? 'Aspect endoscopique normal' : values.antreDesc ?? '') : 'Non exploré'\r\n    )\r\n  ];\r\n  const getPylore = () => [\r\n    createBoldTextOnNewLine('Pylore: '),\r\n    createText(\r\n      values.pylore ? (values.pyloreNormal ? 'Aspect endoscopique normal' : values.pyloreDesc ?? '') : 'Non exploré'\r\n    )\r\n  ];\r\n  const getBiopsiesEsto = () => [\r\n    values.estoBiopsies ? createTextOnNewLine(\"Biopsies de l'estomac: \") : createText(''),\r\n    values.estoBiopsies ? createText(values.estoBiopsiesDesc !== '' ? values.estoBiopsiesDesc : 'Oui') : createText('')\r\n  ];\r\n  const getBulbe = () => [\r\n    createBreak(),\r\n    createBoldTextOnNewLine('Bulbe: '),\r\n    createText(\r\n      values.bulbe ? (values.bulbeNormal ? 'Aspect endoscopique normal' : values.bulbeDesc ?? '') : 'Non exploré'\r\n    ),\r\n    values.bulbeBiopsies ? createTextOnNewLine('Biopsies du bulbe: ') : createText(''),\r\n    values.bulbeBiopsies\r\n      ? createText(values.bulbeBiopsiesDesc !== '' ? values.bulbeBiopsiesDesc : 'Oui')\r\n      : createText('')\r\n  ];\r\n\r\n  const getDuodénum = () => [\r\n    createBreak(),\r\n    createBoldTextOnNewLine('Duodénum: '),\r\n    createText(values.duodénum ? '' : 'Non exploré'),\r\n    createText(\r\n      values.duodénum ? (values.duodénumNormal ? 'Aspect endoscopique normal' : values.duodénumDesc ?? '') : ''\r\n    ),\r\n    values.duodénumBiopsies\r\n      ? createTextOnNewLine(checkIndiction(false, 9) ? 'Biopsies duodénales systématiques: ' : 'Biopsies du duodénum: ')\r\n      : createText(''),\r\n    values.duodénumBiopsies\r\n      ? createText(values.duodénumBiopsiesDesc !== '' ? values.duodénumBiopsiesDesc : 'Oui')\r\n      : createText('')\r\n  ];\r\n  const getSecondTime = () => {\r\n    if (values.typeIndication && values.secondTime !== '')\r\n      return [createBoldTextOnNewLine('Deuxiéme temps: '), createText(values.secondTime)];\r\n    return [];\r\n  };\r\n  const getFOGDTotal = () => [createBoldText('FOGD Totale: '), createText(values.FOGDtotale ? 'Oui' : 'Non')];\r\n  const getDuréeExamen = () => [createBoldTextOnNewLine(\"Durée de l'examen: \"), createText(values.duréeExamen)];\r\n  const getQualitéVisualisation = () => [\r\n    createBoldTextOnNewLine('Qualité de visualisation de la muqueuse: '),\r\n    createText(values.qualityVisualisation),\r\n    createTextOnNewLine(\r\n      `Qualité de la préparation selon le score de Kuo modifié par Chang :  A=1, B=2, C=3, D=4 : le score totale est la somme des scores attribués à chaque région : il varie entre 4 et 16 avec 4 pour une excellente préparation et 16 pour une très mauvaise préparation : Score : ${\r\n        getScoreQV() ?? 4\r\n      }`\r\n    )\r\n  ];\r\n  const getChromoendoscopie = () => [\r\n    createBoldTextOnNewLine('Utilisation de la chromoendoscopie virtuelle ou au lugol: '),\r\n    createText(values.chromoendoscopie ? 'Oui' : 'Non'),\r\n    createText(values.chromoendoscopie && values.chromoendoscopieDesc !== '' ? `: ${values.chromoendoscopieDesc}` : '')\r\n  ];\r\n  const getBiopsies = () => [\r\n    createBoldTextOnNewLine('Biopsies: '),\r\n    createText(values.biopsies ? 'Oui' : 'Non'),\r\n    createText(values.biopsies && values.biopsiesDesc !== '' ? `: ${values.biopsiesDesc}` : '')\r\n  ];\r\n\r\n  const getConclusionGeneral = () => [createBoldText('Conclusion: '), createText(values.conclusion ?? '')];\r\n  const getCAT = () => {\r\n    if (values.CAT && values.CAT !== '') {\r\n      return [createBoldTextOnNewLine('CAT: '), createText(values.CAT ?? '')];\r\n    }\r\n    return [];\r\n  };\r\n  const getOperateurs = () => {\r\n    //const seniors = isArray(values.seniors) ? values.seniors.join(', ') : '';\r\n    console.log('seniors', values.seniors);\r\n    console.log('residents', values.residents);\r\n\r\n    const seniors = values?.seniors?.split('\\n') ?? [];\r\n    const residents = values?.residents?.split('\\n') ?? [];\r\n    console.log('seniors', seniors);\r\n    console.log('residents', residents);\r\n    const seniorsText = seniors.map((s) => createTextOnNewLine(s));\r\n    const residentsText = residents.map((s) => createTextOnNewLine(s));\r\n    //const residents = isArray(values.residents) ? values.residents.join(', ') : '';\r\n    // const techniciens = isArray(values.techniciens) ? values.techniciens.join(', ') : '';\r\n\r\n    return [\r\n      createBoldText('Opérateurs: '),\r\n      createBoldTextOnNewLine('Séniors: '),\r\n      ...seniorsText,\r\n      //createText(values.seniors),\r\n      createBreak(),\r\n      //createText(seniors.replace('Autre', values.autreSeniors)),\r\n      createBoldTextOnNewLine('Résidents: '),\r\n      ...residentsText\r\n      //createText(values.residents)\r\n      // createText(residents.replace('Autre', values.autreResidents))\r\n      // createBoldTextOnNewLine('\\tTechniciens:'),\r\n      // createText(techniciens)\r\n    ];\r\n  };\r\n  const getRessenti = () => [createBoldText('Examen mal toléré :'), createText(values.ressentiPatient ? 'Oui' : 'Non')];\r\n  const getComplications = () => [\r\n    createBoldTextOnNewLine('Complications de l’examen endoscopique: '),\r\n    createText(values.complicationEndo ? 'Oui' : 'Non'),\r\n    createText(values.complicationEndo && values.complicationEndoDesc !== '' ? `: ${values.complicationEndoDesc}` : '')\r\n  ];\r\n  const getComplicationSedation = () => {\r\n    if (values.sédationExamen) {\r\n      return [\r\n        createBoldTextOnNewLine('Complications de la sédation: '),\r\n        createText(values.complicationSedation ? 'Oui' : 'Non'),\r\n        createText(\r\n          values.complicationSedation && values.complicationSedationDesc !== ''\r\n            ? `: ${values.complicationSedationDesc}`\r\n            : ''\r\n        )\r\n      ];\r\n    }\r\n    return [];\r\n  };\r\n  const getHospitatlisation = () => [\r\n    createBoldTextOnNewLine('Nécessité d’une hospitalisation pour surveillance: '),\r\n    createText(values.necessiteHospitalisation ? 'Oui' : 'Non')\r\n  ];\r\n  const createBorderedParagraph = (children) =>\r\n    new Paragraph({\r\n      children,\r\n      border: {\r\n        bottom: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 },\r\n        top: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 },\r\n        left: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 },\r\n        right: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 1 }\r\n      }\r\n    });\r\n\r\n  const getPart1 = () =>\r\n    new Paragraph({\r\n      children: [\r\n        ...getFOGDTotal(),\r\n        // ...getDuréeExamen(),\r\n\r\n        ...getQualitéVisualisation(),\r\n        ...getZoneMalExploré(),\r\n        ...getChromoendoscopie(),\r\n        ...getBiopsies()\r\n      ],\r\n      border: {\r\n        bottom: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        top: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        left: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        right: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 }\r\n      }\r\n    });\r\n  const getPart2 = () =>\r\n    new Paragraph({\r\n      children: [...getConclusionGeneral(), ...getCAT()],\r\n      border: {\r\n        // bottom: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        // top: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 5 },\r\n        left: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        right: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 }\r\n      }\r\n    });\r\n  const getPart3 = () =>\r\n    new Paragraph({\r\n      children: [...getRessenti(), ...getComplications(), ...getComplicationSedation(), ...getHospitatlisation()],\r\n      border: {\r\n        bottom: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        top: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        left: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 },\r\n        right: { style: BorderStyle.SINGLE, color: '#000000', size: 6, space: 0 }\r\n      }\r\n    });\r\n\r\n  const checkIndiction = useCallback(\r\n    (isThérapeutique, i) => {\r\n      if (isThérapeutique) {\r\n        const index = values.thérapeutiqueIndex.findIndex((e) => e === i);\r\n        if (index > -1) {\r\n          return true;\r\n        }\r\n        return false;\r\n      } else {\r\n        const index = values.diagnostiqueIndex.findIndex((e) => e === i);\r\n        if (index > -1) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    },\r\n    [values.thérapeutiqueIndex, values.diagnostiqueIndex]\r\n  );\r\n\r\n  const getScoreQV = () => {\r\n    const getScore = (value) => {\r\n      switch (value) {\r\n        case 'A':\r\n          return 1;\r\n        case 'B':\r\n          return 2;\r\n        case 'C':\r\n          return 3;\r\n        case 'D':\r\n          return 4;\r\n        default:\r\n          return 0;\r\n      }\r\n    };\r\n    if (values.qvFundus && values.qvPartieSup && values.qvPartieInf && values.qvAntre)\r\n      return (\r\n        getScore(values.qvFundus) +\r\n        getScore(values.qvPartieSup) +\r\n        getScore(values.qvPartieInf) +\r\n        getScore(values.qvAntre)\r\n      );\r\n  };\r\n  return (\r\n    <>\r\n      <Box sx={{ mb: 5 }} />\r\n\r\n      <Stepper alternativeLabel activeStep={activeStep} connector={<ColorlibConnector />}>\r\n        {STEPS.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel StepIconComponent={ColorlibStepIcon}>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n\r\n      {activeStep === STEPS.length ? (\r\n        <>\r\n          <Paper\r\n            sx={{\r\n              p: 3,\r\n              my: 3,\r\n              minHeight: 120,\r\n              bgcolor: 'grey.50012'\r\n            }}\r\n          >\r\n            <Typography sx={{ my: 1 }}>All steps completed - you&apos;re finished</Typography>\r\n          </Paper>\r\n\r\n          <Button color=\"inherit\" onClick={handleReset} sx={{ mr: 1 }}>\r\n            Reset\r\n          </Button>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Paper sx={{ p: 3, my: 3, minHeight: 120, bgcolor: 'grey.50012' }}>\r\n            <Typography variant=\"h3\">{STEPS[activeStep]}</Typography> <Divider variant=\"middle\" />\r\n            <br />\r\n            <br />\r\n            <FormikProvider value={formik}>\r\n              {' '}\r\n              <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\r\n                {getStepContent(activeStep, formik)}\r\n              </Form>\r\n            </FormikProvider>\r\n          </Paper>\r\n\r\n          <Box sx={{ textAlign: 'right' }}>\r\n            <Button disabled={activeStep === 0} onClick={handleBack} sx={{ mr: 1 }}>\r\n              Retour\r\n            </Button>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={activeStep === STEPS.length - 1 ? handleSubmit : handleNext}\r\n              sx={{ mr: 1 }}\r\n            >\r\n              {activeStep === STEPS.length - 1 ? 'Génerer le rapport' : 'Suivant'}\r\n            </Button>\r\n          </Box>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst generatePDF = (rapport) => {\r\n  const {\r\n    nom,\r\n    prenom,\r\n    age,\r\n    numDoss,\r\n    numTel\r\n    // etab,\r\n    // antecedents,\r\n    // indications,\r\n    // FOGDmaterials,\r\n    // FOGDoesophage,\r\n    // FOGDcardia,\r\n    // FOGDEstomac,\r\n    // FOGDBiopsie,\r\n    // FOGDfundus,\r\n    // FOGDantre,\r\n    // FOGDpyloreExplored,\r\n    // FOGDpylore,\r\n    // FOGDdidii,\r\n    // FOGDdidiiExplored,\r\n    // ColoscopieMaterials,\r\n    // ColoscopieColonGauche,\r\n    // ColoscopieColonTansverse,\r\n    // ColoscopieColonDroit,\r\n    // ColoscopiePreparation,\r\n    // ColoscopieIleon,\r\n    // ColoscopieBasFondCaecal,\r\n    // ColoscopieColonGaucheText,\r\n    // ColoscopieColonTansverseText,\r\n    // ColoscopieColonDroitText,\r\n    // ColoscopieRectum,\r\n    // ColoscopieIleonExplored,\r\n    // ColoscopieBasFondCaecalExplored,\r\n    // ColoscopieColonGaucheTextExplored,\r\n    // ColoscopieColonTansverseTextExplored,\r\n    // ColoscopieColonDroitTextExplored,\r\n    // ColoscopieRectumExplored,\r\n    // conclusion,\r\n    // _id,\r\n    // createdAt\r\n  } = rapport;\r\n  // Create the document\r\n  const pageWidth = 210; // 210mm\r\n  const pageHeight = 297; // 297mm\r\n\r\n  // Create the document\r\n  const doc = new jsPDF({\r\n    unit: 'mm',\r\n    format: [pageWidth, pageHeight]\r\n  });\r\n  // Set the font and text size\r\n  doc.setFont('helvetica');\r\n  doc.setFontSize(12);\r\n  doc.setFontStyle('bold');\r\n  doc.text(`Compte Rendu d'examen endoscopique`, pageWidth / 2, 20, {\r\n    align: 'center'\r\n  });\r\n  let x = 10;\r\n  // Add the hospital name to the top left corner\r\n  doc.text('Rapport Medical', 10, x, { align: 'left', fontStyle: 'bold' });\r\n\r\n  // Add the doctor name to the top right corner\r\n  // doc.text(etab, 190, x, { align: 'right' });\r\n  doc.setFontStyle('normal');\r\n\r\n  // Add patient information\r\n  doc.text(`Patient : ${nom} ${prenom}`, 14, (x += 40), { maxWidth: 190 });\r\n  doc.text(`Age: ${age} ans`, 14, (x += 10), { maxWidth: 190 });\r\n  doc.text(`Numero de telephone : ${numTel}`, 14, (x += 10), { maxWidth: 190 });\r\n  doc.text(`Numero de dossier : ${numDoss}`, 14, (x += 10), { maxWidth: 190 });\r\n  // doc.text(`Antecedents: ${antecedents}`, 14, (x += 10), { maxWidth: 190 });\r\n  // doc.text(`Indications: ${indications}`, 14, (x += 10), { maxWidth: 190 });\r\n  // doc.line(20, (x += 10), 180, x);\r\n  // if (FOGDmaterials !== '' || FOGDoesophage !== '') {\r\n  //   doc.setFontStyle('bold');\r\n  //   doc.text(\"Type d'examen endoscopique: FOGD\", pageWidth / 2, (x += 10), {\r\n  //     align: 'center'\r\n  //   });\r\n  //   doc.setFontStyle('normal');\r\n\r\n  //   // doc.text('sous anesthesie generale: lorem ipsum', 14, (x += 10)); ToDo\r\n  //   // doc.text('heure de debut: 1/6/2023 20:38', 14, (x += 10), { align: 'left' });\r\n  //   // doc.text(\"durée de l'examen: 60 minutes\", 190, x, { align: 'right' });\r\n\r\n  //   const materials = FOGDmaterials.split('\\n');\r\n  //   doc.text(`material: ${materials[0]}`, 14, (x += 10));\r\n  //   for (let i = 1; i < materials.length; i += 1) doc.text(`${materials[i]}`, 32, (x += 5));\r\n\r\n  //   doc.text(`Oesophage: ${FOGDoesophage}`, 14, (x += 10), { maxWidth: 190 });\r\n  //   doc.text(`Cardia: ${FOGDcardia}`, 14, (x += 10), { maxWidth: 190 });\r\n  //   doc.text(`Estomac: ${FOGDEstomac === 'Exploré' ? 'Exploré' : 'Non Exploré'}`, 14, (x += 10));\r\n\r\n  //   if (FOGDEstomac === 'Exploré') {\r\n  //     doc.text(`Fundus: ${FOGDfundus}`, 20, (x += 10), { maxWidth: 190 });\r\n  //     doc.text(`Antre: ${FOGDantre}`, 20, (x += 10), { maxWidth: 190 });\r\n  //     doc.text(`Biopsie: ${FOGDBiopsie === true ? 'Oui' : 'Non'}`, 20, (x += 10));\r\n  //   }\r\n\r\n  //   doc.text(`Pylore: ${FOGDpyloreExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`, 14, (x += 10));\r\n\r\n  //   if (FOGDpyloreExplored === 'Exploré') {\r\n  //     doc.text(FOGDpylore, 20, (x += 10), { maxWidth: 190 });\r\n  //   }\r\n\r\n  //   doc.text(`DIDII: ${FOGDdidiiExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`, 14, (x += 10));\r\n\r\n  //   if (FOGDdidiiExplored === 'Exploré') {\r\n  //     doc.text(FOGDdidii, 20, (x += 10), { maxWidth: 190 });\r\n  //   }\r\n  // }\r\n\r\n  // if (ColoscopieMaterials !== '') {\r\n  //   x = 15;\r\n  //   doc.addPage();\r\n  //   doc.line(20, (x += 10), 180, x);\r\n  //   doc.setFontStyle('bold');\r\n  //   doc.text(\"Type d'examen endoscopique: Coloscopie\", pageWidth / 2, (x += 10), {\r\n  //     align: 'center'\r\n  //   });\r\n  //   doc.setFontStyle('normal');\r\n\r\n  //   // doc.text('sous anesthesie generale: lorem ipsum', 14, (x += 10)); ToDo\r\n  //   // doc.text('heure de debut: 1/6/2023 20:38', 14, (x += 10), { align: 'left' });\r\n  //   // doc.text(\"durée de l'examen: 60 minutes\", 190, x, { align: 'right' });\r\n\r\n  //   const materials = ColoscopieMaterials.split(',');\r\n  //   doc.text(`material: ${materials[0]}`, 14, (x += 10));\r\n  //   for (let i = 1; i < materials.length; i += 1) doc.text(`${materials[i]}`, 32, (x += 5));\r\n\r\n  //   doc.text(`BOSTON:`, 14, (x += 10));\r\n  //   doc.text(`Colon Gauche: ${ColoscopieColonGauche}`, 20, (x += 10), { maxWidth: 190 });\r\n  //   doc.text(`Colon Tansverse: ${ColoscopieColonTansverse}`, 20, (x += 10), { maxWidth: 190 });\r\n  //   doc.text(`Colon Droit: ${ColoscopieColonDroit}`, 20, (x += 10), { maxWidth: 190 });\r\n  //   doc.text(`Preparation: ${ColoscopiePreparation}`, 20, (x += 10), { maxWidth: 190 });\r\n\r\n  //   doc.text(`Ileon: ${ColoscopieIleonExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`, 14, (x += 10));\r\n  //   if (ColoscopieIleonExplored === 'Exploré') {\r\n  //     doc.text(ColoscopieIleon, 20, (x += 10), { maxWidth: 190 });\r\n  //   }\r\n\r\n  //   doc.text(\r\n  //     `Bas fond caecal: ${ColoscopieBasFondCaecalExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`,\r\n  //     14,\r\n  //     (x += 10)\r\n  //   );\r\n  //   if (ColoscopieBasFondCaecalExplored === 'Exploré') {\r\n  //     doc.text(ColoscopieBasFondCaecal, 20, (x += 10), { maxWidth: 190 });\r\n  //   }\r\n  // }\r\n\r\n  // doc.text(`Colon droit: ${ColoscopieColonDroitTextExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`, 14, (x += 10));\r\n  // if (ColoscopieColonDroitTextExplored === 'Exploré') {\r\n  //   doc.text(ColoscopieColonDroitText, 20, (x += 10), { maxWidth: 190 });\r\n  // }\r\n\r\n  // doc.text(\r\n  //   `Colon gauche: ${ColoscopieColonGaucheTextExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`,\r\n  //   14,\r\n  //   (x += 10)\r\n  // );\r\n  // if (ColoscopieColonGaucheTextExplored === 'Exploré') {\r\n  //   doc.text(ColoscopieColonGaucheText, 20, (x += 10), { maxWidth: 190 });\r\n  // }\r\n\r\n  // doc.text(\r\n  //   `Colon Transverse: ${ColoscopieColonTansverseTextExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`,\r\n  //   14,\r\n  //   (x += 10)\r\n  // );\r\n  // if (ColoscopieColonTansverseTextExplored === 'Exploré') {\r\n  //   doc.text(ColoscopieColonTansverseText, 20, (x += 10), { maxWidth: 190 });\r\n  // }\r\n\r\n  // doc.text(`Rectum: ${ColoscopieColonTansverseTextExplored === 'Exploré' ? 'Exploré' : 'Non Exploré'}`, 14, (x += 10));\r\n  // if (ColoscopieColonTansverseTextExplored === 'Exploré') {\r\n  //   doc.text(ColoscopieColonTansverseText, 20, (x += 10), { maxWidth: 190 });\r\n  // }\r\n\r\n  // // Add a section for the conclusion\r\n  // doc.text(`Conclusion: ${conclusion}`, 14, (x += 10), { maxWidth: 185 });\r\n\r\n  // Save the PDF\r\n  doc.save(`medical-report-${numDoss}.pdf`);\r\n};\r\n\r\nconst FGDOdiagnostique = [\r\n  'Symptômes digestifs hauts persistants malgré une épreuve thérapeutique',\r\n  'Symptômes digestifs hauts avec signes d’alarmes ou âge >45ans',\r\n  'Dysphagie, odynophagie',\r\n  'RGO persistant ou récidivant après traitement',\r\n  'Surveillance d’une lésion prénéoplasique (exp : endobrachy œsophage)',\r\n  'Vomissements persistants',\r\n  'Pathologies au cours desquelles la FOGD peut modifier la prise en charge (exemple : ATCDs d’ulcère et indication d’une anticoagulation)',\r\n  'Polypose adénomateuse familiale',\r\n  'Explorer une lésion de découverte radiologique (lésion d’allure néoplasique, ulcère œsophagien ou gastrique, sténose)',\r\n  'Suspicion d’une spoliation sanguine et anémie ferriprive',\r\n  'Nécessité de faire des biopsies ou de prélever un liquide',\r\n  'Bilan d’une hypertension portale',\r\n  'Evaluation d’une reconstruction anatomique (Exp : fundoplicature, chirurgie bariatrique)'\r\n];\r\n\r\nconst FGDOthérapeutique = [\r\n  'Hémorragie digestive active actuelle ou récente',\r\n  'Traitement d’une lésion qui saigne',\r\n  'Ligature ou sclérothérapie pour varices œsophagiennes',\r\n  'Ingestion de caustique',\r\n  'Extraction de corps étranger',\r\n  'Résection d’un polype',\r\n  'Mise en place d’un drainage ou d’une stomie (exp : gastrostomie)',\r\n  'Dilatation d’une sténose',\r\n  'Prise en charge d’une achalasie',\r\n  'Prise en charge palliative d’une sténose d’origine néoplasique',\r\n  'Traitement d’une métaplasie intestinale',\r\n  'Prise en charge de complications (exp : fistule)'\r\n];\r\n","// material\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, Paper, Container, Stack } from '@mui/material';\r\n// routes\r\nimport { PATH_PAGE } from '../../../../routes/paths';\r\n// components\r\nimport Page from '../../../../components/Page';\r\nimport HeaderBreadcrumbs from '../../../../components/HeaderBreadcrumbs';\r\n//\r\nimport { Block } from '../../Block';\r\nimport CustomizedStepper from './CustomizedStepper';\r\nimport useSettings from '../../../../hooks/useSettings';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled(Page)(({ theme }) => ({\r\n  paddingTop: theme.spacing(11),\r\n  paddingBottom: theme.spacing(15)\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function StepperComponent() {\r\n  const { themeStretch } = useSettings();\r\n\r\n  return (\r\n    <Page title=\"Care1\">\r\n      <Container maxWidth={themeStretch ? false : 'xl'}>\r\n        <Stack spacing={5}>\r\n          <Block title=\"Rapport\">\r\n            <Paper\r\n              sx={{\r\n                p: 3,\r\n                width: '100%',\r\n                boxShadow: (theme) => theme.customShadows.z8\r\n              }}\r\n            >\r\n              <CustomizedStepper />\r\n            </Paper>\r\n          </Block>\r\n        </Stack>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n"],"sourceRoot":""}